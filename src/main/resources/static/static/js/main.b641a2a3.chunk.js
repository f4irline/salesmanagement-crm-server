(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{402:function(e,t,a){e.exports=a(873)},409:function(e,t,a){},411:function(e,t,a){},644:function(e,t,a){},646:function(e,t,a){},648:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t),a.d(t,"getDate",function(){return n}),a.d(t,"daysBetween",function(){return i});var n=function(e,t){var a;return a=null!=t?new Date(t):new Date,"monthFirst"===e&&a.setDate(1),"monthLast"===e&&(a.setDate(1),a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1)),a.toISOString().slice(0,10)},i=function(e,t){var a=new Date(e).getTime(),n=new Date(t).getTime()-a;return Math.round(n/864e5)}},820:function(e,t,a){},834:function(e,t,a){},838:function(e,t,a){},840:function(e,t,a){},844:function(e,t,a){},846:function(e,t,a){},848:function(e,t,a){},850:function(e,t,a){},852:function(e,t,a){},854:function(e,t,a){},856:function(e,t,a){},858:function(e,t,a){},860:function(e,t,a){},862:function(e,t,a){},864:function(e,t,a){},866:function(e,t,a){},868:function(e,t,a){},870:function(e,t,a){},873:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(31),s=a.n(r),l=a(351),o=a.n(l),c=(a(409),a(14)),d=a(15),u=a(17),m=a(16),h=a(18),p=a(29),v=a(876),f=a(842),g=a(152),y=a.n(g),E=a(381),b=a.n(E),k=a(13),C=a.n(k),S=(a(411),a(75)),j=a.n(S),O=a(35),w=a.n(O),D=a(382),N=a(26),T=a(8),I=a.n(T),L=a(28),x=a.n(L),P=a(36),A=a.n(P),W=a(37),R=a.n(W),M=a(41),B=a.n(M),F=a(54),U=a.n(F),H=a(45),z=a.n(H),V=a(74),K=a.n(V),q=a(32),_=a.n(q),Y=a(5),G=a.n(Y),J=a(96),X=a.n(J),$=a(67),Q=a.n($),Z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",contactPerson:"",contactRole:"",typedContactRole:"",phoneNumber:"",email:"",industry:"",meeted:"",discussion:[],potential:"",notes:"",eventType:4,labelWidth:0},e.handleChange=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.handleCheckbox=function(t){if(e.state.discussion.includes(t.target.value)){var a=[],n=!0,i=!1,r=void 0;try{for(var s,l=e.state.discussion[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value;o!==t.target.value&&a.push(o)}}catch(d){i=!0,r=d}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}e.setState({discussion:a})}else{var c=[].concat(Object(D.a)(e.state.discussion),[t.target.value]);e.setState({discussion:c})}},e.mapIndustries=function(e){return e=e.map(function(e){return i.a.createElement(U.a,{key:e,value:e},e)})},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:s.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=["Startupit","IT-ala","Teollisuus","Politiikka","Henkil\xf6st\xf6vuokraus","Insin\xf6\xf6ritoimistot","Konsultointitoimisto","Palveluala","Muu"];return t=this.mapIndustries(t),i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Liidi"),i.a.createElement(G.a,{item:!0,xs:12,container:!0,direction:"row"},i.a.createElement(G.a,{item:!0,xs:12,md:4,style:{padding:"0 0.5vw"}},i.a.createElement(I.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},onChange:this.handleChange,variant:"outlined",required:!0,value:this.state.date})),i.a.createElement(G.a,{item:!0,xs:12,md:4,style:{padding:"0 0.5vw"}},i.a.createElement(I.a,{name:"companyName",label:"Yrityksen nimi",fullWidth:!0,onChange:this.handleChange,variant:"outlined",required:!0})),i.a.createElement(G.a,{item:!0,xs:12,md:4,style:{padding:"0 0.5vw"}},i.a.createElement(A.a,{fullWidth:!0,variant:"outlined"},i.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-industry"},"Toimiala"),i.a.createElement(R.a,{name:"industry",displayEmpty:!0,value:this.state.industry,onChange:this.handleChange,input:i.a.createElement(B.a,{name:"industry",labelWidth:this.state.labelWidth,id:"outlined-industry"}),required:!0},t)))),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Yhteyshenkil\xf6:"),i.a.createElement(G.a,{item:!0,xs:12,container:!0,justify:"center"},i.a.createElement(G.a,{item:!0,xs:12,md:4,style:{padding:"0 0.5vw"}},i.a.createElement(I.a,{name:"contactPerson",fullWidth:!0,label:"Nimi",onChange:this.handleChange,variant:"outlined",required:!0})),i.a.createElement(G.a,{item:!0,xs:12,md:4,style:{padding:"0 0.5vw"}},i.a.createElement(I.a,{fullWidth:!0,name:"email",label:"S\xe4hk\xf6posti",onChange:this.handleChange,variant:"outlined"})),i.a.createElement(G.a,{item:!0,xs:12,md:4,style:{padding:"0 0.5vw"}},i.a.createElement(I.a,{fullWidth:!0,name:"phoneNumber",label:"Puhelinnumero",onChange:this.handleChange,variant:"outlined"}))),i.a.createElement(G.a,{item:!0,container:!0,xs:12,style:{margin:"2vh 0"}},i.a.createElement(A.a,{component:"fieldset",style:{margin:"0 1vw"}},i.a.createElement(K.a,{component:"legend"},"Rooli"),i.a.createElement(j.a,{row:!0,"aria-label":"Rooli",name:"contactRole",value:this.state.contactRole,onChange:this.handleChange},i.a.createElement(_.a,{value:"Johto",control:i.a.createElement(w.a,{color:"primary"}),label:"Johto"}),i.a.createElement(_.a,{value:"Markkinointi",control:i.a.createElement(w.a,{color:"primary"}),label:"Markkinointi"}),i.a.createElement(_.a,{value:"Myynti",control:i.a.createElement(w.a,{color:"primary"}),label:"Myynti"}),i.a.createElement(_.a,{value:"HR",control:i.a.createElement(w.a,{color:"primary"}),label:"HR"}),i.a.createElement(_.a,{value:"Muu",control:i.a.createElement(w.a,{color:"primary"}),label:"Muu"})),i.a.createElement(I.a,{name:"typedContactRole",label:"Muu",onChange:this.handleChange,disabled:"Muu"!==this.state.contactRole}))),i.a.createElement(G.a,{item:!0,container:!0,xs:12,style:{margin:"2vh 0"}},i.a.createElement(A.a,{component:"fieldset",style:{margin:"0 1vw"}},i.a.createElement(K.a,{component:"legend"},"Tavattu"),i.a.createElement(j.a,{row:!0,"aria-label":"Tavattu",name:"meeted",value:this.state.value,onChange:this.handleChange},i.a.createElement(_.a,{value:"Prospektointi",control:i.a.createElement(w.a,{color:"primary"}),label:"Prospektointi"}),i.a.createElement(_.a,{value:"Messut",control:i.a.createElement(w.a,{color:"primary"}),label:"Messut"}),i.a.createElement(_.a,{value:"Suositus",control:i.a.createElement(w.a,{color:"primary"}),label:"Suositus"}),i.a.createElement(_.a,{value:"Seminaarit",control:i.a.createElement(w.a,{color:"primary"}),label:"Seminaarit"}),i.a.createElement(_.a,{value:"Proakatemia",control:i.a.createElement(w.a,{color:"primary"}),label:"Proakatemia"})))),i.a.createElement(G.a,{item:!0,container:!0,xs:12,style:{margin:"2vh 0"}},i.a.createElement(A.a,{row:!0,component:"fieldset",style:{margin:"0 1vw"}},i.a.createElement(K.a,{component:"legend"},"Mist\xe4 juteltu"),i.a.createElement(X.a,{row:!0,onChange:this.handleCheckbox},i.a.createElement(_.a,{control:i.a.createElement(Q.a,{value:"Ty\xf6nantajabr\xe4ndi (traileri)",color:"primary"}),label:"Ty\xf6nantajabr\xe4ndi (traileri)"}),i.a.createElement(_.a,{control:i.a.createElement(Q.a,{value:"Yritysvideo",color:"primary"}),label:"Yritysvideo"}),i.a.createElement(_.a,{control:i.a.createElement(Q.a,{value:"Yritysilme",color:"primary"}),label:"Yritysilme"}),i.a.createElement(_.a,{control:i.a.createElement(Q.a,{value:"Laajempi kokonaisuus",color:"primary"}),label:"Laajempi kokonaisuus"}),i.a.createElement(_.a,{control:i.a.createElement(Q.a,{value:"Valokuvaukset",color:"primary"}),label:"Valokuvaukset"})))),i.a.createElement(G.a,{item:!0,container:!0,xs:12,justify:"center",style:{margin:"2vh 0"}},i.a.createElement(A.a,{component:"fieldset",style:{margin:"0 1vw"}},i.a.createElement(K.a,{component:"legend"},"Potentiaali"),i.a.createElement(j.a,{row:!0,name:"potential",value:this.state.potential,onChange:this.handleChange},i.a.createElement(_.a,{value:"1",control:i.a.createElement(w.a,{color:"primary"}),label:"1"}),i.a.createElement(_.a,{value:"2",control:i.a.createElement(w.a,{color:"primary"}),label:"2"}),i.a.createElement(_.a,{value:"3",control:i.a.createElement(w.a,{color:"primary"}),label:"3"}),i.a.createElement(_.a,{value:"4",control:i.a.createElement(w.a,{color:"primary"}),label:"4"}),i.a.createElement(_.a,{value:"5",control:i.a.createElement(w.a,{color:"primary"}),label:"5"})))),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(I.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(x.a,{variant:"contained",color:"primary",onClick:this.props.handleSend(this.state),size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={date:(new Date).toISOString().split("T")[0],companyName:"",contactPerson:"",phoneNumber:"",email:"",notes:"",eventType:0,labelWidth:0},a.handleChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:s.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"content-all"},i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Yhteydenotto"),i.a.createElement("div",{className:"content-fields"},i.a.createElement(I.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(A.a,{className:"content-item",variant:"outlined"},i.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-industry"},"Yritys"),i.a.createElement(R.a,{name:"companyName",displayEmpty:!0,value:this.state.companyName,onChange:this.handleChange,input:i.a.createElement(B.a,{name:"company",labelWidth:this.state.labelWidth}),required:!0},this.props.leadNames)),i.a.createElement(I.a,{name:"contactPerson",label:"Yhteyshenkil\xf6",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0}),i.a.createElement(I.a,{name:"phoneNumber",label:"Puhelinnumero",onChange:this.handleChange,className:"content-item",variant:"outlined"}),i.a.createElement(I.a,{name:"email",label:"S\xe4hk\xf6posti",onChange:this.handleChange,className:"content-item",variant:"outlined"})),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(I.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(x.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),te=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",place:"",notes:"",eventType:1,labelWidth:0},e.handleChange=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:s.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"content-all"},i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Tapaaminen"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(I.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(A.a,{className:"content-item",variant:"outlined"},i.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-industry"},"Yritys"),i.a.createElement(R.a,{name:"companyName",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(B.a,{name:"company",labelWidth:this.state.labelWidth}),required:!0},this.props.leadNames)),i.a.createElement(I.a,{name:"place",label:"Paikka",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0})),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(I.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(x.a,{variant:"contained",onClick:this.props.handleSend(this.state),size:"large",className:"button-save",color:"primary"},"Tallenna"))}}]),t}(n.Component),ae=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",sum:0,notes:"",eventType:3,labelWidth:0},e.handleChange=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:s.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"content-all"},i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Myynti"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(I.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(A.a,{className:"content-item",variant:"outlined"},i.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-industry"},"Yritys"),i.a.createElement(R.a,{name:"companyName",label:"Yritys",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(B.a,{name:"company",labelWidth:this.state.labelWidth}),required:!0},this.props.leadNames)),i.a.createElement(I.a,{name:"sum",label:"Summa",onChange:this.handleChange,className:"content-item",variant:"outlined",type:"number",required:!0})),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(I.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(x.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),ne=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",sum:0,notes:"",eventType:2,labelWidth:0},e.handleChange=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:s.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"content-all"},i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Tarjous"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(I.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(A.a,{className:"content-item",variant:"outlined"},i.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-industry"},"Yritys"),i.a.createElement(R.a,{name:"companyName",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(B.a,{name:"company",labelWidth:this.state.labelWidth}),required:!0},this.props.leadNames)),i.a.createElement(I.a,{name:"sum",label:"Summa",onChange:this.handleChange,className:"content-item",variant:"outlined",type:"number",required:!0})),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(I.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(x.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),ie=a(353),re=a.n(ie),se=document.cookie.match(new RegExp("XSRF-TOKEN=([^;]+)"))[1],le=re.a.create({withCredentials:!0,baseURL:"https://vc-system.herokuapp.com/api",headers:{"X-XSRF-TOKEN":se,"Access-Control-Allow-Methods":"PATCH, DELETE, POST, GET, OPTIONS, PUT"}}),oe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",sum:0,notes:"",eventType:5,labelWidth:0},e.handleChange=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:s.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"content-all"},i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Sulje Liidi"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(I.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(A.a,{className:"content-item",variant:"outlined"},i.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-industry"},"Yritys"),i.a.createElement(R.a,{name:"companyName",label:"Yritys",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(B.a,{name:"company",labelWidth:this.state.labelWidth}),required:!0},this.props.leadNames))),i.a.createElement(C.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(I.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(x.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),ce=a(354),de=a.n(ce),ue=a(25),me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={selectedValue:"",leads:[],leadNames:[],labelWidth:0},a.updateData=function(){a.props.updateUserData(),a.props.updateLeaderBoards(),a.props.updateCompanyGraph(),a.props.updateUserEvents(),a.props.updateAdminData()},a.handleSend=function(e){return function(t){var n=sessionStorage.getItem("accessToken"),i={credentials:"include",headers:{Authorization:"Bearer ".concat(n)}};if(4===e.eventType){var r={};for(var s in e)"typedContactRole"!==s&&("contactRole"!==s?"labelWidth"!==s&&(r[s]=e[s]):"Muu"===e[s]?r[s]=e.typedContactRole:r[s]=e[s]);le.post("/leads/add/".concat(a.props.userId),e,i).then(function(){}).then(function(){a.props.updateLeads(),a.props.updateUserEvents(),a.props.updateAdminData()})}else if(5===e.eventType){var l=a.findLeadId(e);le.put("leads/close/".concat(l),{},i).then(function(){}).then(a.updateData.bind(Object(p.a)(Object(p.a)(a))))}else{var o=a.findLeadId(e),c={};for(var d in e)"labelWidth"!==d&&(c[d]=e[d]);le.post("events/add/".concat(a.props.userId,"/").concat(o),c,i).then(function(){}).then(a.updateData.bind(Object(p.a)(Object(p.a)(a))))}}},a.handleChange=function(e){a.setState({selectedValue:e.target.value})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({leads:this.props.leads},function(){var t=e.state.leads.map(function(e){return i.a.createElement(U.a,{key:e.companyName,value:e.companyName},e.companyName)});e.setState({leadNames:t})})}},{key:"findLeadId",value:function(e){var t=!0,a=!1,n=void 0;try{for(var i,r=this.state.leads[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;if(s.companyName===e.companyName)return s.leadId}}catch(l){a=!0,n=l}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}}},{key:"render",value:function(){var e=null;return"lead"===this.state.selectedValue?e=i.a.createElement(Z,{handleSend:this.handleSend.bind(this)}):"contact"===this.state.selectedValue?e=i.a.createElement(ee,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"meeting"===this.state.selectedValue?e=i.a.createElement(te,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"sales"===this.state.selectedValue?e=i.a.createElement(ae,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"offer"===this.state.selectedValue?e=i.a.createElement(ne,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"close"===this.state.selectedValue&&(e=i.a.createElement(oe,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames})),i.a.createElement("div",{className:"ModalContent",tabIndex:-1},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0,className:"controls-header"},"Lis\xe4\xe4:"),i.a.createElement("div",{className:"close-wrapper"},i.a.createElement(ue.IconButton,{onClick:this.props.closeModal,color:"secondary"},i.a.createElement(de.a,null))),i.a.createElement("div",null,i.a.createElement(j.a,{row:!0,name:"radioGroup",value:this.state.value,onChange:this.handleChange.bind(this),className:"controls-wrapper"},i.a.createElement(_.a,{value:"lead",control:i.a.createElement(w.a,null),label:"Liidi"}),i.a.createElement(_.a,{value:"contact",control:i.a.createElement(w.a,null),label:"Yhteydenotto"}),i.a.createElement(_.a,{value:"meeting",control:i.a.createElement(w.a,null),label:"Tapaaminen"}),i.a.createElement(_.a,{value:"offer",control:i.a.createElement(w.a,null),label:"Tarjous"}),i.a.createElement(_.a,{value:"sales",control:i.a.createElement(w.a,null),label:"Myynti"}),i.a.createElement(_.a,{value:"close",control:i.a.createElement(w.a,null),label:"Sulje"}))),i.a.createElement("div",{className:"content-wrapper"},e))}}]),t}(n.Component),he=a(98),pe=a.n(he),ve=a(99),fe=a.n(ve),ge=a(154),ye=a.n(ge),Ee=(a(644),a(47)),be=a.n(Ee),ke=(a(646),a(44)),Ce=a.n(ke),Se=a(40),je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={user:a.props.user,userData:a.props.userData},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(G.a,{item:!0,xs:12,lg:5,className:"UserData",style:{minHeight:"44vh"}},i.a.createElement(C.a,{variant:"h3",classes:{root:e.header}},"Hei, ",this.state.user.userFirst),i.a.createElement(C.a,{variant:"h5",classes:{root:e.login}},"Sis\xe4\xe4nkirjautunut viimeksi: ",new Date(this.state.user.lastLogin).toLocaleString("fi-FI",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})),i.a.createElement(Ce.a,{elevation:5,classes:{root:e.paper}},i.a.createElement("div",null,i.a.createElement(ue.List,null,i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Hit Rate %:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.hit_rate+" %"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Keskim. myynti:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.avg_sales+" \u20ac"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Kokonaismyynti:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.monthly_sales+" \u20ac"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Yhteydenotot:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.contacts_amount+" kpl"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Tapaamiset:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.meetings_amount+" kpl"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Tarjoukset:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.offers_amount+" kpl"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Sopimukset:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.userData.sales_amount+" kpl"}))),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(ue.ListItem,{classes:{root:e.listItem}},i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:"Myynnin tavoite:"})),i.a.createElement(G.a,{item:!0,xs:6},i.a.createElement(ue.ListItemText,{primary:this.state.user.monthlyGoal+" \u20ac"})))))))}}]),t}(n.Component),Oe=Object(Se.withStyles)({itemContainer:{height:"100%"},listItem:{padding:"0.5vh 1vw"},paper:{margin:"1vw"},header:{margin:"1vh 0.5vw 0 0.5vw",padding:"0 0.5vw",textTransform:"uppercase",fontWeight:800},login:{margin:"0 1vw",padding:"0 1vw"}})(je),we=(a(648),a(52)),De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={height:0,width:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;this.setState({height:e,width:t}),window.addEventListener("resize",this.checkWindowSize.bind(this))}},{key:"checkWindowSize",value:function(){try{var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;e===this.state.height&&t===this.state.width||this.setState({height:e,width:t})}catch(a){return}}},{key:"render",value:function(){var e=this,t=5,a=this.props.goal-this.props.sales,n=[],r=Math.round(100*this.props.sales/this.props.goal);a>0?(n.push({name:"Group A",value:this.props.sales}),n.push({name:"Group B",value:a})):(a=0,t=0,n.push({name:"Group A",value:this.props.sales}));var s=["#D72322","#222C35"];return i.a.createElement(G.a,{item:!0,xs:12,lg:5,className:"UserGraph",style:{minHeight:"44vh"}},i.a.createElement("div",{className:"chart-header"},i.a.createElement(C.a,{variant:"h3",style:{fontWeight:800}},"TAVOITTEESI")),i.a.createElement("div",{className:"chart-wrapper",ref:function(t){return e.chartWrapper=t}},i.a.createElement(we.g,{width:this.state.width,height:this.state.height,onMouseEnter:this.onPieEnter},i.a.createElement(we.f,{data:n,innerRadius:"60%",outerRadius:"80%",paddingAngle:t,dataKey:"value",label:function(e){var t=e.cx,a=e.cy,n=e.midAngle,r=e.innerRadius,s=e.outerRadius,l=e.value,o=(e.index,Math.PI/180),c=25+r+(s-r),d=t+c*Math.cos(-n*o),u=a+c*Math.sin(-n*o);return i.a.createElement("text",{x:d,y:u,fill:"#8884d8",textAnchor:d>t?"start":"end",dominantBaseline:"central"},l.toFixed(2)," \u20ac")}},n.map(function(e,t){return i.a.createElement(we.b,{key:"cell-".concat(t),fill:s[t%s.length]})})),i.a.createElement("text",{x:this.state.width/2,y:this.state.height/2,textAnchor:"middle",dominantBaseline:"middle"},r," %"))))}}]),t}(n.PureComponent),Ne=(a(820),a(81)),Te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={name:a.props.name,user:{},height:0,width:0,startDate:a.props.companyDates[0],endDate:a.props.companyDates[1],data:a.props.companyData,tickIndex:0},a.onChange=a.onChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;this.setState({height:e,width:t}),window.addEventListener("resize",this.checkWindowSize.bind(this))}},{key:"checkWindowSize",value:function(){try{var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;e===this.state.height&&t===this.state.width||this.setState({height:e,width:t})}catch(a){return}}},{key:"onChange",value:function(e){var t=this,a=e.target.value;switch(e.target.id){case"startDate":this.setState({startDate:new Date(a).toISOString().slice(0,10)},function(){t.props.changeDate(t.state.startDate,t.state.endDate)});break;case"endDate":this.setState({endDate:new Date(a).toISOString().slice(0,10)},function(){t.props.changeDate(t.state.startDate,t.state.endDate)})}}},{key:"render",value:function(){var e=this;return i.a.createElement(G.a,{item:!0,xs:12,lg:11,className:"CompanyGraph",style:{minHeight:"44vh"}},i.a.createElement("div",{className:"company-chart-header"},i.a.createElement(C.a,{variant:"h3",style:{fontWeight:800}},"YRITYKSEN TAVOITE")),i.a.createElement("div",{className:"company-chart-wrapper",ref:function(t){return e.chartWrapper=t}},i.a.createElement(C.a,{variant:"h5"},"Myynti: ",this.state.data.length>0?this.state.data[this.state.data.length-1].sum.toFixed(2):(0).toFixed(2)," \u20ac (Tavoite: ",this.state.data.length>0?this.state.data[this.state.data.length-1].goal.toFixed(2):(0).toFixed(2)," \u20ac)"),i.a.createElement(I.a,{className:"date",id:"startDate",label:"Aloitus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",placeholder:"dd.mm.yyyy",defaultValue:this.state.startDate,style:{margin:0},required:!0,InputLabelProps:{shrink:!0},SelectProps:null,onChange:this.onChange}),i.a.createElement(I.a,{className:"date",id:"endDate",label:"Lopetus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",placeholder:"dd.mm.yyyy",defaultValue:this.state.endDate,style:{margin:0},required:!0,InputLabelProps:{shrink:!0},onChange:this.onChange}),i.a.createElement(we.e,{width:this.state.width,height:this.state.height,data:this.state.data,margin:{top:this.state.height/100*5,right:this.state.width/100*10,left:this.state.width/100*10,bottom:this.state.height/100*5}},i.a.createElement(we.a,{strokeDasharray:"3 3"}),i.a.createElement(we.i,{dataKey:"date",height:60,interval:0,tick:i.a.createElement(xe,{days:Object(Ne.daysBetween)(this.state.startDate,this.state.endDate),index:!0})}),i.a.createElement(we.j,null),i.a.createElement(we.h,null),i.a.createElement(we.c,null),i.a.createElement(we.d,{type:"monotone",dataKey:"sum",stroke:"#8884d8",label:i.a.createElement(Le,{days:Object(Ne.daysBetween)(this.state.startDate,this.state.endDate),index:!0}),dot:i.a.createElement(Ie,{days:Object(Ne.daysBetween)(this.state.startDate,this.state.endDate),color:"#0000FF",index:!0})}),i.a.createElement(we.d,{connectNulls:!0,type:"monotone",dataKey:"goal",stroke:"red",label:i.a.createElement(Le,{days:Object(Ne.daysBetween)(this.state.startDate,this.state.endDate),index:!0}),dot:i.a.createElement(Ie,{days:Object(Ne.daysBetween)(this.state.startDate,this.state.endDate),color:"#FF0000",index:!0})}))))}}]),t}(n.PureComponent),Ie=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cx,a=e.cy,n=e.color,r=Math.floor(this.props.days/4);return this.props.index%r===0&&this.props.index+r<=this.props.days||this.props.index===this.props.days?i.a.createElement("circle",{r:"3",stroke:n,strokeWidth:"1",fill:"#fff",width:"543.2",height:"147.1",className:"recharts-dot recharts-line-dot",cx:t,cy:a}):null}}]),t}(n.PureComponent),Le=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.stroke,r=e.value,s=Math.floor(this.props.days/4);return this.props.index%s===0&&this.props.index+s<=this.props.days&&this.props.index>=s||this.props.index===this.props.days?i.a.createElement("text",{x:t,y:a,dy:-4,fill:n,fontSize:10,textAnchor:"middle"},r.toFixed(2)," \u20ac"):null}}]),t}(n.PureComponent),xe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload,r=Math.floor(this.props.days/4);return this.props.index%r===0&&this.props.index+r<=this.props.days||this.props.index===this.props.days?i.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},i.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-35)"},n.value)):null}}]),t}(n.PureComponent),Pe=Te,Ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={user_id:a.props.user_id,user:a.props.user,userData:a.props.userData,company:a.props.companyData},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.name!==this.state.name||(t.user!==this.state.user||(t.userData!==this.state.userData||t.company!==this.state.company))}},{key:"render",value:function(){return i.a.createElement(G.a,{container:!0,justify:"space-between",direction:"row",className:"Dashboard"},i.a.createElement(G.a,{container:!0,justify:"space-around",item:!0,className:"user-wrapper"},i.a.createElement(Oe,{user:this.state.user,userData:this.state.userData}),i.a.createElement(De,{sales:this.state.userData.monthly_sales,goal:this.state.user.monthlyGoal})),i.a.createElement(be.a,{variant:"middle"}),i.a.createElement(G.a,{container:!0,justify:"space-around",item:!0,className:"company-wrapper"},i.a.createElement(Pe,{companyDates:this.props.companyDates,changeDate:this.props.updateCompany,companyData:this.state.company})))}}]),t}(n.Component),We=function(){return i.a.createElement("div",{className:"content"},i.a.createElement("p",null,"Error"))},Re=a(39),Me=a.n(Re),Be=(a(834),a(367)),Fe=a.n(Be),Ue=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center",style:{width:"50vw",height:"50vh",margin:"auto"}},i.a.createElement(G.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"40vh",width:"100%",height:"100%"}},i.a.createElement("div",{className:"sweet-loading"},i.a.createElement(Fe.a,{sizeUnit:"em",size:3,color:"#D72322",loading:!0}))))}}]),t}(n.Component),He=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={startDate:a.props.leaderDates[0],endDate:a.props.leaderDates[1],data:[]},a.onChange=a.onChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data})}},{key:"onChange",value:function(e){var t=this,a=e.target.value,n=e.target.id;if(""==!a)switch(n){case"startDate":this.setState({startDate:new Date(a).toISOString().slice(0,10)},function(){t.props.updateDate(t.state.startDate,t.state.endDate)});break;case"endDate":this.setState({endDate:new Date(a).toISOString().slice(0,10)},function(){t.props.updateDate(t.state.startDate,t.state.endDate)})}else switch(n){case"startDate":this.setState({startDate:new Date("Undefined")},function(){t.props.updateDate(t.state.startDate,t.state.endDate)});break;case"endDate":this.setState({endDate:new Date("Undefined")},function(){t.props.updateDate(t.state.startDate,t.state.endDate)})}}},{key:"mapData",value:function(e){if(new Date(this.state.endDate)<new Date(this.state.startDate))return[];return e.map(function(e){var t=[],a="";for(var n in e)switch(n){case"user_first":a+=e[n]+" ";break;case"user_last":a+=e[n],t.push(a);break;case"monthly_sales":break;default:t.push(e[n])}return t})}},{key:"render",value:function(){if(this.state.loading)return i.a.createElement("div",{className:"Leaderboards"},i.a.createElement(Ue,null));var e=this.mapData(this.state.data),t=[{name:"Nimi",options:{filter:!0,sort:!1,filterOptions:e.map(function(e){return e[0]})}},{name:"Hit rate (%)",options:{filter:!1,sort:!0}},{name:"Keskim. myynti (\u20ac)",options:{filter:!1,sort:!0}},{name:"Kokonaismyynti (\u20ac)",options:{filter:!1,sort:!0}},{name:"Yhteydenotot (kpl)",options:{filter:!1,sort:!0}},{name:"Tapaamiset (kpl)",options:{filter:!1,sort:!0}},{name:"Tarjoukset (kpl)",options:{filter:!1,sort:!0}},{name:"Sopimukset (kpl)",options:{filter:!1,sort:!0}}];return i.a.createElement("div",{className:"Leaderboards"},i.a.createElement("form",{className:"datePicker"},i.a.createElement(I.a,{className:"date",id:"startDate",label:"Aloitus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",placeholder:"dd.mm.yyyy",defaultValue:this.state.startDate,InputLabelProps:{shrink:!0},onChange:this.onChange}),i.a.createElement(I.a,{className:"date",id:"endDate",label:"Lopetus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",placeholder:"dd.mm.yyyy",defaultValue:this.state.endDate,InputLabelProps:{shrink:!0},onChange:this.onChange})),i.a.createElement("div",{id:"table-leaderboards"},i.a.createElement(Me.a,{title:"Sijoitukset",data:e,columns:t,options:{filterType:"multiselect",selectableRows:!1,search:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},filter:{all:"Kaikki",title:"SUODATTIMET",reset:"RESETOI"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}}]),t}(n.Component),ze=(a(838),a(103)),Ve=a(3),Ke=a.n(Ve),qe=a(151),_e=a.n(qe),Ye=a(147),Ge=a.n(Ye),Je=a(97),Xe=a.n(Je),$e=a(114),Qe=a.n($e),Ze=a(38),et=a.n(Ze),tt=a(369),at=a.n(tt),nt=a(370),it=a.n(nt),rt=a(371),st=a.n(rt),lt=a(113),ot=a.n(lt),ct=a(153),dt=a.n(ct),ut=a(115),mt=a.n(ut),ht=(a(840),a(878)),pt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,r=this.state.open,s=this.props.links.map(function(t){return i.a.createElement(ot.a,{key:t.url,className:"navLink"},i.a.createElement(dt.a,null,t.icon),i.a.createElement(ht.a,{onClick:e.handleDrawerClose,exact:!0,to:t.url},i.a.createElement(mt.a,{disableTypography:!0,primary:t.text})))});return i.a.createElement("div",{className:a.root,style:{overflowX:"hidden"}},i.a.createElement(Ge.a,{className:Ke()(a.appBar,Object(N.a)({},a.appBarShift,r),"top-bar")},i.a.createElement(Xe.a,{disableGutters:!r},i.a.createElement(et.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:Ke()(a.menuButton,r&&a.hide)},i.a.createElement(at.a,null)),i.a.createElement(C.a,{variant:"h6",color:"inherit",noWrap:!0},this.props.drawerTitle))),i.a.createElement(_e.a,{className:a.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:a.drawerPaper}},i.a.createElement("div",{className:a.drawerHeader},i.a.createElement(et.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?i.a.createElement(it.a,null):i.a.createElement(st.a,null))),i.a.createElement(be.a,null),i.a.createElement(Qe.a,null,s)),i.a.createElement("main",{className:Ke()(a.content,Object(N.a)({},a.contentShift,r))},i.a.createElement("div",{className:a.drawerHeader}),this.props.children))}}]),t}(i.a.Component),vt=Object(Se.withStyles)(function(e){return{root:{display:"flex"},appBar:{position:"absolute",backgroundColor:"#3f505f",justifyContent:"center",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{top:"5vh",width:240,flexShrink:0},drawerPaper:{top:"5vh",width:240},drawerHeader:Object(ze.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(pt),ft=(a(844),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"eventId"!==a&&"eventType"!==a&&"user"!==a&&"sum"!==a&&"place"!==a&&"lead"!==a&&t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Contacts"},i.a.createElement("div",{id:"table-drawer"},i.a.createElement(Me.a,{title:"Yhteydenotot",data:t,columns:[{name:"p\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"yritys",options:{filter:!1,sort:!0}},{name:"yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"puhelinnumero",options:{filter:!1,sort:!0}},{name:"s\xe4hk\xf6posti",options:{filter:!1,sort:!0}},{name:"lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),gt=(a(846),Object(Se.withStyles)({NewLead:{"& td":{backgroundColor:"#FFF"}},ContactedLead:{"& td":{backgroundColor:"rgba(247, 130, 15, 0.8)",color:"#FFF"}},SoldLead:{"& td":{backgroundColor:"rgba(41, 150, 0, 0.8)",color:"#FFF"}},ClosedLead:{"& td":{backgroundColor:"rgba(240, 13, 13, 0.8)",color:"#FFF"}}})(function(e){var t=e.data,a=function(e){return e.map(function(e){var t=[];for(var a in e)"leadId"!==a&&"stage"!==a&&("user"===a?t.push(e[a].userName):"discussion"===a?t.push(e[a].join(", ")):t.push(e[a]));return t})}(t),n={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",setRowProps:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=n-1+1,{className:Ke()(Object(N.a)({},e.classes.NewLead,t[n]&&"NEW"===t[n].stage),Object(N.a)({},e.classes.ContactedLead,t[n]&&"CONTACTED"===t[n].stage),Object(N.a)({},e.classes.SoldLead,t[n]&&"SOLD"===t[n].stage),Object(N.a)({},e.classes.ClosedLead,t[n]&&"CLOSED"===t[n].stage))}},textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"Leads"},i.a.createElement("div",{id:"table-drawer"},i.a.createElement(Me.a,{title:"Liidit",data:a,columns:[{name:"p\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"tehnyt",options:{filter:!1,sort:!0}},{name:"yritys",options:{filter:!1,sort:!0}},{name:"toimiala",options:{filter:!1,sort:!0}},{name:"yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"toimenkuva",options:{filter:!1,sort:!0}},{name:"puhelinnumero",options:{filter:!1,sort:!0}},{name:"s\xe4hk\xf6posti",options:{filter:!1,sort:!0}},{name:"tavattu",options:{filter:!1,sort:!0}},{name:"keskustelun aihe",options:{filter:!1,sort:!0}},{name:"potentiaali",options:{filter:!1,sort:!0}},{name:"lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:n})))})),yt=(a(848),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"date"!==a&&"companyName"!==a&&"place"!==a&&"notes"!==a||t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Meetings"},i.a.createElement("div",{id:"table-drawer"},i.a.createElement(Me.a,{title:"Tapaamiset",data:t,columns:[{name:"P\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Paikka",options:{filter:!1,sort:!0}},{name:"Lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),Et=(a(850),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"date"!==a&&"companyName"!==a&&"notes"!==a&&"sum"!==a||t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Offers"},i.a.createElement("div",{id:"table-drawer"},i.a.createElement(Me.a,{title:"Tarjoukset",data:t,columns:[{name:"P\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Tarjouksen summa (\u20ac)",options:{filter:!1,sort:!0}},{name:"Lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),bt=(a(852),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"date"!==a&&"companyName"!==a&&"notes"!==a&&"sum"!==a||t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Sales"},i.a.createElement("div",{id:"table-drawer"},i.a.createElement(Me.a,{title:"Kaupat",data:t,columns:[{name:"P\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Tarjouksen summa (\u20ac)",options:{filter:!1,sort:!0}},{name:"Lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),kt=a(372),Ct=a.n(kt),St=a(373),jt=a.n(St),Ot=a(162),wt=a.n(Ot),Dt=a(160),Nt=a.n(Dt),Tt=a(161),It=a.n(Tt),Lt=function(e){var t=[{url:"/events/leads",text:"Liidit",icon:i.a.createElement(Nt.a,null)},{url:"/events/contacts",text:"Yhteydenotot",icon:i.a.createElement(It.a,null)},{url:"/events/meetings",text:"Tapaamiset",icon:i.a.createElement(wt.a,null)},{url:"/events/offers",text:"Tarjoukset",icon:i.a.createElement(Ct.a,null)},{url:"/events/sales",text:"Myynnit",icon:i.a.createElement(jt.a,null)}];return i.a.createElement("div",{className:"Events"},i.a.createElement(vt,{drawerTitle:"Tapahtumat",links:t},i.a.createElement(f.a,{path:"/events/contacts",render:function(){return i.a.createElement(ft,{data:e.data[0]})}}),i.a.createElement(f.a,{path:"/events/meetings",render:function(){return i.a.createElement(yt,{data:e.data[1]})}}),i.a.createElement(f.a,{path:"/events/offers",render:function(){return i.a.createElement(Et,{data:e.data[2]})}}),i.a.createElement(f.a,{path:"/events/sales",render:function(){return i.a.createElement(bt,{data:e.data[3]})}}),i.a.createElement(f.a,{path:"/events/leads",render:function(){return i.a.createElement(gt,{data:e.data[4]})}})))},xt=(a(854),a(856),function(e){return i.a.createElement("div",{className:"NavItem"},i.a.createElement(ht.a,{className:"linkWrapper",to:e.url,exact:!0},e.icon,i.a.createElement("p",{className:"item"},e.children)))}),Pt=(a(858),function(e){return i.a.createElement("div",{onClick:e.onClick,className:"ActionItem"},e.icon,i.a.createElement("p",{className:"item"},e.children))}),At=a(377),Wt=a.n(At),Rt=a(378),Mt=a.n(Rt),Bt=a(374),Ft=a.n(Bt),Ut=a(375),Ht=a.n(Ut),zt=a(376),Vt=a.n(zt),Kt=function(e){return i.a.createElement("div",{className:"Navigation"},i.a.createElement("div",{className:"navigation-wrapper"},i.a.createElement(xt,{url:"/",icon:i.a.createElement(Ft.a,null)},"Oma sivu"),i.a.createElement(xt,{url:"/leaderboards",icon:i.a.createElement(Ht.a,null)},"Tulostaulukko"),i.a.createElement(xt,{url:"/events/leads",icon:i.a.createElement(Vt.a,null)},"Tapahtumat")),i.a.createElement("div",{className:"action-wrapper"},void 0!==e.roles&&void 0!==e.roles[1]?i.a.createElement(xt,{url:"/admin/users",icon:i.a.createElement(Wt.a,null)},"Hallinta"):null,i.a.createElement(Pt,{icon:i.a.createElement(Mt.a,null),onClick:e.handleLogout},"Kirjaudu ulos")))},qt=(a(860),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={userName:"",password:"",error:!1,errorBlocked:!1},a.handleKeyPress=function(e){"Enter"===e.key&&a.handleButtonClick()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleButtonClick",value:function(){var e=this,t={userName:this.state.userName,password:this.state.password};le.post("/auth/login",t,{credentials:"include"}).then(function(t){sessionStorage.setItem("accessToken",t.data.accessToken),e.props.onLogin(),e.setState({error:!1})}).catch(function(t){403===t.request.status?e.setState({errorBlocked:!0,error:!1}):e.setState({error:!0,errorBlocked:!1})})}},{key:"handleInputChange",value:function(e){switch(e.target.name){case"userName":this.setState({userName:e.target.value});break;case"password":this.setState({password:e.target.value})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"Login"},i.a.createElement(Ce.a,{className:"MuiPaper-root-1",elevation:5},i.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"KIRJAUTUMINEN"),i.a.createElement(be.a,null),i.a.createElement(I.a,{className:"login-item",label:"K\xe4ytt\xe4j\xe4tunnus id",value:this.state.userName,onChange:this.handleInputChange.bind(this),onKeyPress:this.handleKeyPress.bind(this),margin:"normal",name:"userName",type:"text"}),i.a.createElement(I.a,{className:"login-item",label:"Salasana",value:this.state.password,onChange:this.handleInputChange.bind(this),onKeyPress:this.handleKeyPress.bind(this),name:"password",margin:"normal",type:"password"}),i.a.createElement(x.a,{className:"login-item",size:"medium",disabled:!1,onClick:this.handleButtonClick.bind(this),variant:"contained"},"Submit"),this.state.error?i.a.createElement(C.a,{className:"Error"},"Virheellinen K\xe4ytt\xe4j\xe4tunnus tai salasana"):null,this.state.errorBlocked?i.a.createElement(C.a,{className:"Error"},"K\xe4ytt\xe4j\xe4 lukittu, yrit\xe4 uudelleen 15min kuluttua"):null))}}]),t}(n.Component)),_t=(a(862),a(380)),Yt=a.n(_t),Gt=a(877),Jt=(a(864),a(148)),Xt=a.n(Jt),$t=a(149),Qt=a.n($t),Zt=a(150),ea=a.n(Zt),ta=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={open:!0},a.handleCancel=function(){a.props.handleClose("cancel")},a.handleDelete=function(){a.props.handleClose("delete")},a.state.title=e.title,a.state.description=e.description,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(pe.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(ea.a,{id:"alert-dialog-title"},this.state.title),i.a.createElement(fe.a,null,i.a.createElement(Qt.a,{id:"alert-dialog-description"},this.state.description)),i.a.createElement(Xt.a,null,i.a.createElement(x.a,{onClick:this.handleCancel,color:"primary",name:"cancel"},"Cancel"),i.a.createElement(x.a,{onClick:this.handleDelete,color:"primary",name:"delete",autoFocus:!0},"Delete"))))}}]),t}(i.a.Component),aa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:{},leads:[],loading:!1,companyName:void 0},a.fetchData=function(){var e=sessionStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){le.get("event/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.fetchLeads(),a.setState({data:e.data},function(){a.setState({companyName:a.state.data.lead.companyName})})}).catch(function(e){return console.error(e)})})},a.fetchLeads=function(){var e=sessionStorage.getItem("accessToken");a.setState({loading:!0},function(){le.get("/leads",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return a.setState({leads:e.data},function(){a.setState({loading:!1})})})})},a.handleSave=function(){var e=sessionStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}},n=a.findLeadId();le.put("/admin/events/edit/".concat(n),a.state.data,t).then(function(e){a.props.update(),a.props.history.push("/admin/events")}).catch(function(e){return console.error(e)})},a.handleChange=function(e){a.setState({data:Object.assign({},a.state.data,Object(N.a)({},e.target.name,e.target.value))})},a.handleLeadChange=function(e){a.setState({companyName:e.target.value})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"findLeadId",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=this.state.leads[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;if(r.companyName===this.state.companyName)return r.leadId}}catch(s){t=!0,a=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}}},{key:"render",value:function(){return this.state.loading||void 0===this.state.companyName?i.a.createElement(Ue,null):i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(G.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0},"TAPAHTUMAN MUOKKAUS")),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",label:"Tapahtuman ID",value:this.state.data.eventId,disabled:!0})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"date",type:"date",required:!0,onChange:this.handleChange,label:"P\xe4iv\xe4m\xe4\xe4r\xe4",value:this.state.data.date}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,name:"contactPerson",variant:"outlined",onChange:this.handleChange,label:"Yhteyshenkil\xf6",value:this.state.data.contactPerson})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,name:"email",variant:"outlined",required:!0,onChange:this.handleChange,label:"S\xe4hk\xf6posti",value:this.state.data.email}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"phoneNumber",label:"Puhelinnumero",onChange:this.handleChange,value:this.state.data.phoneNumber})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"place",required:!0,label:"Paikka",onChange:this.handleChange,value:this.state.data.place}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"sum",label:"Summa",type:"number",onChange:this.handleChange,value:this.state.data.sum})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(A.a,{className:"content-item",fullWidth:!0},i.a.createElement(R.a,{name:"companyName",displayEmpty:!0,value:this.state.companyName,onChange:this.handleLeadChange,input:i.a.createElement(B.a,{name:"company",labelWidth:0}),required:!0},this.props.leadNames)))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"notes",onChange:this.handleChange,required:!0,label:"Lis\xe4tiedot",multiline:!0,value:this.state.data.notes}))),i.a.createElement(x.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna"))}}]),t}(n.Component),na=Object(Gt.a)(aa),ia=a(66),ra=a.n(ia),sa=a(77),la=a.n(sa),oa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,eventId:void 0},a.onClickEditHandler=function(e){a.props.history.push("/admin/events/edit/"+e.eventId)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[];for(var n in e)if("eventType"===n)switch(e[n]){case 0:a.push("Yhteydenotto");break;case 1:a.push("Tapaaminen");break;case 2:a.push("Tarjous");break;case 3:a.push("Myynti");break;default:a.push(void 0)}else"email"!==n&&"contactPerson"!==n&&"phoneNumber"!==n&&a.push(e[n]);return a.push(i.a.createElement(et.a,{onClick:function(){t.onClickDeleteHandler(e.eventId)}},i.a.createElement(ra.a,null))),a.push(i.a.createElement(et.a,{onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(la.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,eventId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=sessionStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&le.delete("/events/"+this.state.eventId,n).then(function(e){t.props.update()}).catch(function(e){return console.error(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Luotu",options:{filter:!1,sort:!0}},{name:"Luonut",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Tyyppi",options:{filter:!1,sort:!0}},{name:"Summa",options:{filter:!1,sort:!0}},{name:"Paikka",options:{filter:!1,sort:!0}},{name:"Huom",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"EventData"},this.state.showDialog?i.a.createElement(ta,{title:"Poista tapahtuma",description:"Haluatko varmasti poistaa tapahtuman?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table-control-panel"},i.a.createElement(f.a,{path:"/admin/events",exact:!0,render:function(){return i.a.createElement(Me.a,{title:"Tapahtumat",data:a,columns:n,options:r})}}),i.a.createElement(f.a,{path:"/admin/events/edit/:id",render:function(){return i.a.createElement(na,{update:e.props.update,leadNames:e.props.leadNames})}})))}}]),t}(n.Component),ca=Object(Gt.a)(oa),da=(a(866),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:a.props.data,loading:!1},a.fetchData=function(){var e=sessionStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){le.get("leads/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.setState({data:e.data,loading:!1})}).catch(function(e){return console.error(e)})})},a.handleSave=function(){var e=sessionStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}},n={};for(var i in a.state.data)"discussion"!==i?n[i]=a.state.data[i]:Array.isArray(a.state.data[i])?Array.isArray(a.state.data[i][0])?n[i]=a.state.data[i][0]:n[i]=a.state.data[i]:n[i]=a.state.data[i].split(",");le.put("/admin/leads/edit",n,t).then(function(e){a.props.update(),a.props.history.push("/admin/leads")}).catch(function(e){return console.error(e)})},a.handleChange=function(e){a.setState({data:Object.assign({},a.state.data,Object(N.a)({},e.target.name,e.target.value))})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.state.data.leadId||this.fetchData()}},{key:"render",value:function(){return this.state.loading?i.a.createElement(Ue,null):i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(G.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0},"LIIDIN MUOKKAUS")),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",disabled:!0,label:"Liidi ID",value:this.state.data.leadId})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{label:"Luotu",fullWidth:!0,name:"date",variant:"outlined",type:"date",value:this.state.data.date,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"companyName",label:"Nimi",value:this.state.data.companyName,onChange:this.handleChange}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"industry",label:"Ala",value:this.state.data.industry,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"meeted",label:"Tavattu",value:this.state.data.meeted,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"discussion",label:"Keskustelun aihe",value:this.state.data.discussion?this.state.data.discussion.toString():void 0,onChange:this.handleChange}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"contactPerson",label:"Yhteyshenkil\xf6",value:this.state.data.contactPerson,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"contactRole",label:"Rooli",value:this.state.data.contactRole,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"phoneNumber",label:"Puhelin",value:this.state.data.phoneNumber,onChange:this.handleChange}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"email",label:"Email",value:this.state.data.email,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"potential",label:"Potentiaali",value:this.state.data.potential,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:3},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"notes",label:"Huom",value:this.state.data.notes,onChange:this.handleChange}))),i.a.createElement(x.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna"))}}]),t}(n.Component)),ua=Object(Gt.a)(da),ma=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,dataToEdit:{},leadId:void 0},a.onClickEditHandler=function(e){a.setState({dataToEdit:e},function(){a.props.history.push("/admin/leads/edit/"+e.leadId)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[];for(var n in e)"stage"!==n&&"discussion"!==n&&"meeted"!==n&&a.push(e[n]);return a.push(i.a.createElement(et.a,{"aria-label":"Delete",onClick:function(){t.onClickDeleteHandler(e.leadId)}},i.a.createElement(ra.a,null))),a.push(i.a.createElement(et.a,{"aria-label":"Create",onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(la.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,leadId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=sessionStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&le.delete("/leads/"+this.state.leadId,n).then(function(e){t.props.update()}).catch(function(e){return console.error(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Luotu",options:{filter:!1,sort:!0}},{name:"Luonut",options:{filter:!1,sort:!0}},{name:"Nimi",options:{filter:!1,sort:!0}},{name:"Ala",options:{filter:!1,sort:!0}},{name:"Yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"Toimenkuva",options:{filter:!1,sort:!0}},{name:"Puhelin",options:{filter:!1,sort:!0}},{name:"Email",options:{filter:!1,sort:!0}},{name:"Potentiaali",options:{filter:!1,sort:!0}},{name:"Huom",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",setRowProps:function(a,n){return n=n-1+1,{className:Ke()(Object(N.a)({},e.props.classes.NewLead,t[n]&&"NEW"===t[n].stage),Object(N.a)({},e.props.classes.ContactedLead,t[n]&&"CONTACTED"===t[n].stage),Object(N.a)({},e.props.classes.SoldLead,t[n]&&"SOLD"===t[n].stage),Object(N.a)({},e.props.classes.ClosedLead,t[n]&&"CLOSED"===t[n].stage))}},textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"LeadData"},this.state.showDialog?i.a.createElement(ta,{title:"Poista liidi",description:"Haluatko varmasti poistaa liidin?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table-control-panel"},i.a.createElement(f.a,{path:"/admin/leads",exact:!0,render:function(){return i.a.createElement(Me.a,{title:"Liidit",data:a,columns:n,options:r})}}),i.a.createElement(f.a,{path:"/admin/leads/edit/:id",render:function(){return i.a.createElement(ua,{update:e.props.update,data:e.state.dataToEdit})}})))}}]),t}(n.Component),ha=Object(Gt.a)(Object(Se.withStyles)({NewLead:{"& td":{backgroundColor:"#FFF"}},ContactedLead:{"& td":{backgroundColor:"rgba(247, 130, 15, 0.8)",color:"#FFF"}},SoldLead:{"& td":{backgroundColor:"rgba(41, 150, 0, 0.8)",color:"#FFF"}},ClosedLead:{"& td":{backgroundColor:"rgba(240, 13, 13, 0.8)",color:"#FFF"}}})(ma)),pa=(a(868),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={userName:"",userFirst:"",userLast:"",password:"",monthlyGoal:void 0},a.handleCreate=function(){var e=sessionStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}};le.post("/auth/register",a.state,t).then(function(e){a.props.update(),a.props.history.push("/admin/users")})},a.handleChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(ue.Paper,{style:{padding:"1vw"}},i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(G.a,{item:!0,xs:11,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0},"K\xc4YTT\xc4J\xc4N LUONTI")),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"userName",required:!0,label:"K\xe4ytt\xe4j\xe4tunnus",onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"password",type:"password",required:!0,label:"Salasana",onChange:this.handleChange}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"userFirst",required:!0,label:"Etunimi",onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"userLast",required:!0,label:"Sukunimi",onChange:this.handleChange}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",type:"number",name:"monthlyGoal",required:!0,label:"Kuukausitavoite",onChange:this.handleChange}))),i.a.createElement(x.a,{onClick:this.handleCreate,size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna")))}}]),t}(n.Component)),va=Object(Gt.a)(pa),fa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:{},loading:!1,roleName:void 0,userToSave:{}},a.fetchData=function(){var e=sessionStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){le.get("users/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.setState({data:e.data,loading:!1},function(){void 0!==a.state.data.roles[1]?a.setState({roleName:"ROLE_ADMIN"}):a.setState({roleName:"ROLE_USER"})})}).catch(function(e){return console.error(e)})})},a.handleChange=function(e){a.setState({data:Object.assign({},a.state.data,Object(N.a)({},e.target.name,e.target.value))})},a.handleRoleChange=function(e){a.setState({roleName:e.target.value})},a.handleSave=function(){var e=sessionStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}},n=Object(ze.a)({},a.state.data),i=Object(ze.a)({},n.roles);i="ROLE_ADMIN"===a.state.roleName?[{id:2,definition:"ROLE_USER"},{id:1,definition:"ROLE_ADMIN"}]:[{id:2,definition:"ROLE_USER"}],n=Object(ze.a)({},n,{roles:i}),le.put("/admin/users/edit",n,t).then(function(e){a.props.update(),a.props.history.push("/admin/users")}).catch(function(e){return console.error(e)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return this.state.loading||void 0===this.state.roleName?i.a.createElement(Ue,null):i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(G.a,{item:!0,xs:11,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0},"K\xc4YTT\xc4J\xc4N MUOKKAUS")),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",label:"K\xe4ytt\xe4j\xe4n ID",defaultValue:this.state.data.userId,disabled:!0})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"userFirst",required:!0,label:"Etunimi",defaultValue:this.state.data.userFirst,onChange:this.handleChange}))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"userLast",required:!0,label:"Sukunimi",defaultValue:this.state.data.userLast,onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(A.a,{className:"content-item",fullWidth:!0},i.a.createElement(R.a,{name:"roleName",value:this.state.roleName,onChange:this.handleRoleChange,input:i.a.createElement(B.a,{name:"role",labelWidth:0}),required:!0},this.props.roleNames)))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"monthlyGoal",required:!0,label:"Kuukausitavoite",defaultValue:this.state.data.monthlyGoal,onChange:this.handleChange}))),i.a.createElement(x.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna"))}}]),t}(n.Component),ga=Object(Gt.a)(fa),ya=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,dataToEdit:{}},a.dateOptions={year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"},a.onClickEditHandler=function(e){a.setState({dataToEdit:e},function(){a.props.history.push("/admin/users/edit/"+e.userId)})},a.handleButtonClick=function(){a.props.history.push("/admin/users/new")},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[],n="";for(var r in e)"userFirst"===r?n+=e[r]+" ":"userLast"===r?(n+=e[r],a.push(n)):"lastLogin"===r?a.push(new Date(e[r]).toLocaleString("fi-FI",t.dateOptions)):a.push(e[r]);return e.userId!=t.props.user_id?a.push(i.a.createElement(et.a,{"aria-label":"Delete",onClick:function(){t.onClickDeleteHandler(e.userId)}},i.a.createElement(ra.a,null))):a.push(""),a.push(i.a.createElement(et.a,{"aria-label":"Create",onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(la.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,userId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=sessionStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&le.delete("/users/"+this.state.userId,n).then(function(e){t.props.update()}).catch(function(e){return console.error(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Luotu",options:{filter:!1,sort:!0}},{name:"Kirjautunut",options:{filter:!1,sort:!0}},{name:"Nimi",options:{filter:!1,sort:!0}},{name:"Rooli",options:{filter:!1,sort:!0}},{name:"Tavoite",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"UserData"},this.state.showDialog?i.a.createElement(ta,{title:"Poista k\xe4ytt\xe4j\xe4",description:"Haluatko varmasti poistaa k\xe4ytt\xe4j\xe4n?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table-control-panel"},i.a.createElement(f.a,{path:"/admin/users",exact:!0,render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Me.a,{title:"K\xe4ytt\xe4j\xe4t",data:a,columns:n,options:r}),i.a.createElement(ue.Button,{style:{marginTop:"1vh",color:"#fff"},variant:"contained",color:"primary",onClick:e.handleButtonClick},"Lis\xe4\xe4 uusi k\xe4ytt\xe4j\xe4!"))}}),i.a.createElement(f.a,{path:"/admin/users/new",render:function(){return i.a.createElement(va,{update:e.props.update})}}),i.a.createElement(f.a,{path:"/admin/users/edit/:id",render:function(){return i.a.createElement(ga,{roleNames:e.props.roleNames,update:e.props.update})}})))}}]),t}(n.Component),Ea=Object(Gt.a)(ya),ba=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:{},month:void 0,loading:!1},a.fetchData=function(){var e=sessionStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){le.get("companyGoals/get/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.setState({data:e.data,loading:!1},function(){a.setState({month:a.props.monthItems[e.data.yearMonth.split("-")[1].replace("0","")-1].key})})}).catch(function(e){return console.error(e)})})},a.handleChange=function(e){if("year"!==e.target.name&&"month"!==e.target.name)a.setState({data:Object.assign({},a.state.data,Object(N.a)({},e.target.name,e.target.value))});else{var t="";switch(e.target.name){case"year":t="".concat(e.target.value,"-").concat(a.state.data.yearMonth.split("-")[1]);break;case"month":t=a.monthChange(e)}a.setState({data:Object.assign({},a.state.data,{yearMonth:t})})}},a.monthChange=function(e){var t="".concat(a.state.data.yearMonth.split("-")[0],"-").concat(a.props.months[e.target.value]);return a.props.months[e.target.value]<10&&(t="".concat(a.state.data.yearMonth.split("-")[0],"-0").concat(a.props.months[e.target.value])),a.setState({month:e.target.value}),t},a.handleSave=function(){var e=sessionStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}};le.put("/admin/companyGoals/edit",a.state.data,t).then(function(e){a.props.update(),a.props.history.push("/admin/goals")}).catch(function(e){return console.error(e)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return!this.state.loading&&this.state.month&&this.state.data.yearMonth?i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(G.a,{item:!0,xs:11,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0},"TAVOITTEEN MUOKKAUS")),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",label:"Tavoitteen ID",defaultValue:this.state.data.companyGoalId,disabled:!0})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(ue.FormControl,{className:"content-item",fullWidth:!0},i.a.createElement(ue.Select,{name:"month",value:this.state.month,onChange:this.handleChange,input:i.a.createElement(ue.OutlinedInput,{name:"month",labelWidth:0}),required:!0},this.props.monthItems)))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"year",required:!0,label:"Vuosi",defaultValue:this.state.data.yearMonth.split("-")[0],onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"monthlyGoal",required:!0,label:"Tavoite",type:"number",defaultValue:this.state.data.monthlyGoal,onChange:this.handleChange}))),i.a.createElement(x.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna")):i.a.createElement(Ue,null)}}]),t}(n.Component),ka=Object(Gt.a)(ba),Ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={yearMonth:"year-month",month:"JOULUKUU",monthlyGoal:void 0},a.handleCreate=function(){var e=sessionStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}};le.post("/companyGoals",a.state,t).then(function(e){a.props.update(),a.props.history.push("/admin/goals")})},a.handleChange=function(e){if("monthlyGoal"===e.target.name)a.setState(Object(N.a)({},e.target.name,e.target.value));else{var t="";switch(e.target.name){case"year":t="".concat(e.target.value,"-").concat(a.state.yearMonth.split("-")[1]);break;case"month":t=a.monthChange(e)}a.setState({yearMonth:t})}},a.monthChange=function(e){var t="".concat(a.state.yearMonth.split("-")[0],"-").concat(a.props.months[e.target.value]);return a.props.months[e.target.value]<10&&(t="".concat(a.state.yearMonth.split("-")[0],"-0").concat(a.props.months[e.target.value])),a.setState({month:e.target.value}),t},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(ue.Paper,{style:{padding:"1vw"}},i.a.createElement(G.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(G.a,{item:!0,xs:11,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(C.a,{variant:"h4",gutterBottom:!0},"TAVOITTEEN LUONTI")),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"year",type:"number",required:!0,label:"Vuosi",onChange:this.handleChange})),i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:5},i.a.createElement(ue.FormControl,{className:"content-item",fullWidth:!0},i.a.createElement(ue.Select,{name:"month",value:this.state.month,onChange:this.handleChange,input:i.a.createElement(ue.OutlinedInput,{name:"month",labelWidth:0}),required:!0},this.props.monthItems)))),i.a.createElement(G.a,{container:!0,justify:"space-around"},i.a.createElement(G.a,{style:{marginTop:"3vh"},item:!0,xs:11,md:11},i.a.createElement(I.a,{fullWidth:!0,variant:"outlined",name:"monthlyGoal",required:!0,label:"Tavoite",onChange:this.handleChange}))),i.a.createElement(x.a,{onClick:this.handleCreate,size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna")))}}]),t}(n.Component),Sa=Object(Gt.a)(Ca),ja=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,dataToEdit:{}},a.onClickEditHandler=function(e){a.setState({dataToEdit:e},function(){a.props.history.push("/admin/goals/edit/"+e.goalId)})},a.handleButtonClick=function(){a.props.history.push("/admin/goals/new")},a.findMonth=function(e){var t="";for(var n in a.props.months)e===a.props.months[n]&&(t=n);return t},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[];for(var n in e)"month"!==n?a.push(e[n]):a.push(t.findMonth(e[n]));return a.push(i.a.createElement(et.a,{"aria-label":"Delete",onClick:function(){t.onClickDeleteHandler(e.goalId)}},i.a.createElement(ra.a,null))),a.push(i.a.createElement(et.a,{"aria-label":"Create",onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(la.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,goalId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=sessionStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&le.delete("/companyGoals/"+this.state.goalId,n).then(function(e){t.props.update()}).catch(function(e){return console.error(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Kuukausi",options:{filter:!1,sort:!0}},{name:"Vuosi",options:{filter:!1,sort:!0}},{name:"Tavoite",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,responsive:"scroll",textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"GoalsData"},this.state.showDialog?i.a.createElement(ta,{title:"Poista k\xe4ytt\xe4j\xe4",description:"Haluatko varmasti poistaa tavoitteen?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table-control-panel"},i.a.createElement(f.a,{path:"/admin/goals",exact:!0,render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Me.a,{title:"Tavoitteet",data:a,columns:n,options:r}),i.a.createElement(ue.Button,{style:{marginTop:"1vh",color:"#fff"},variant:"contained",color:"primary",onClick:e.handleButtonClick},"Lis\xe4\xe4 uusi tavoite!"))}}),i.a.createElement(f.a,{path:"/admin/goals/new",render:function(){return i.a.createElement(Sa,{months:e.props.months,monthItems:e.props.monthItems,update:e.props.update})}}),i.a.createElement(f.a,{path:"/admin/goals/edit/:id",render:function(){return i.a.createElement(ka,{months:e.props.months,monthItems:e.props.monthItems,update:e.props.update})}})))}}]),t}(n.Component),Oa=Object(Gt.a)(ja),wa={Tammikuu:1,Helmikuu:2,Maaliskuu:3,Huhtikuu:4,Toukokuu:5,"Kes\xe4kuu":6,"Hein\xe4kuu":7,Elokuu:8,Syyskuu:9,Lokakuu:10,Marraskuu:11,Joulukuu:12},Da=function(e){var t=[{url:"/admin/users",text:"K\xe4ytt\xe4j\xe4t",icon:i.a.createElement(Nt.a,null)},{url:"/admin/leads",text:"Liidit",icon:i.a.createElement(It.a,null)},{url:"/admin/events",text:"Tapahtumat",icon:i.a.createElement(wt.a,null)},{url:"/admin/goals",text:"Tavoitteet",icon:i.a.createElement(Yt.a,null)}],a=e.data[1].map(function(e){return i.a.createElement(U.a,{key:e.companyName,value:e.companyName},e.companyName)}),n=["ROLE_ADMIN","ROLE_USER"].map(function(e){return i.a.createElement(U.a,{key:e,value:e},e)}),r=Object.keys(wa).map(function(e){return i.a.createElement(U.a,{key:e,value:e},e)});return i.a.createElement("div",{className:"ControlPanel"},i.a.createElement(vt,{drawerTitle:"Hallinta",links:t},i.a.createElement(v.a,null,i.a.createElement(f.a,{path:"/admin/users",render:function(){return i.a.createElement(Ea,{update:e.update,data:e.data[0],roleNames:n,user_id:e.user_id})}}),i.a.createElement(f.a,{path:"/admin/leads",render:function(){return i.a.createElement(ha,{update:e.update,data:e.data[1]})}}),i.a.createElement(f.a,{path:"/admin/events",render:function(){return i.a.createElement(ca,{update:e.update,data:e.data[2],leadNames:a})}}),i.a.createElement(f.a,{path:"/admin/goals",render:function(){return i.a.createElement(Oa,{months:wa,monthItems:r,update:e.update,data:e.data[3]})}}))))},Na=(a(870),a(81).getDate),Ta=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).anonUserDetails={roles:["ANONYMOUS"]},a.state={loggedIn:!1,modalOpen:!0,loadingLeads:!0,loadingAdminData:!0,loadingLeaderBoards:!0,loadingUserEvents:!0,loadingUserData:!0,loadingCompany:!0,leads:[],leaderBoards:[],userEvents:[],userData:{},user_details:a.anonUserDetails,companyData:[],companyStartDate:Na("monthFirst"),companyEndDate:Na("monthLast"),leaderStartDate:new Date("Undefined"),leaderEndDate:new Date("Undefined")},a.validateDate=a.validateDate.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.getItem("accessToken")&&this.handleLogin()}},{key:"updateAll",value:function(){this.updateCompanyData(this.state.companyStartDate,this.state.companyEndDate),this.updateLeads(),this.updateLeaderBoards(),this.updateUserEvents(),this.updateUserData(),this.updateAdmin()}},{key:"updateCompanyData",value:function(e,t){var a=this,n=void 0,i=void 0;void 0===e&&void 0===t?(n=this.state.companyStartDate,i=this.state.companyEndDate):(n=e,i=t);var r=sessionStorage.getItem("accessToken"),s="/companyChart/get/".concat(n,"/").concat(i);this.setState({loadingCompany:!0,companyStartDate:n,companyEndDate:i},function(){le.get(s,{headers:{Authorization:"Bearer ".concat(r)}}).then(function(e){return a.setState({companyData:e.data},function(){a.setState({loadingCompany:!1})})})})}},{key:"updateUserEvents",value:function(){var e=this,t=sessionStorage.getItem("accessToken"),a="/userEvents/".concat(this.state.user_details.userId);this.setState({loadingUserEvents:!0},function(){le.get(a,{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({userEvents:t.data,modalOpen:!1},function(){e.setState({loadingUserEvents:!1})})}).catch(function(e){return console.error(e)})})}},{key:"updateUserData",value:function(){var e=this,t=sessionStorage.getItem("accessToken"),a="/userData/".concat(this.state.user_details.userId);this.setState({loadingUserData:!0},function(){le.get(a,{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({userData:t.data,modalOpen:!1},function(){e.setState({loadingUserData:!1})})}).catch(function(e){return console.error(e)})})}},{key:"updateLeaderBoards",value:function(){var e=this,t=sessionStorage.getItem("accessToken");this.setState({loadingLeaderBoards:!0},function(){le.get("/userData/all",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){return e.setState({leaderBoards:t.data,modalOpen:!1},function(){e.setState({loadingLeaderBoards:!1})})})})}},{key:"updateLeaderBoardsByDate",value:function(e,t){var a=this;this.setState({leaderStartDate:e,leaderEndDate:t},function(){a.validateDate(e,t)})}},{key:"validateDate",value:function(e,t){var a=this,n=sessionStorage.getItem("accessToken");this.setState({loadingLeaderBoards:!0},function(){"Invalid Date"!==e.toString()&&"Invalid Date"!==t.toString()?le.get("/userData/all/".concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return a.setState({leaderBoards:e.data,modalOpen:!1},function(){a.setState({loadingLeaderBoards:!1})})}):"Invalid Date"!==e.toString()?le.get("/userData/all/".concat(e,"/2100-01-01"),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return a.setState({leaderBoards:e.data,modalOpen:!1},function(){a.setState({loadingLeaderBoards:!1,leaderEndDate:new Date("Undefined")})})}):"Invalid Date"!==t.toString()?le.get("/userData/all/1970-01-01/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return a.setState({leaderBoards:e.data,modalOpen:!1},function(){a.setState({loadingLeaderBoards:!1,leaderStartDate:new Date("Undefined")})})}):a.setState({leaderStartDate:new Date("Undefined"),leaderEndDate:new Date("Undefined")},function(){a.updateLeaderBoards()})})}},{key:"updateLeads",value:function(){var e=this,t=sessionStorage.getItem("accessToken");this.setState({loadingLeads:!0},function(){le.get("/leads",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){return e.setState({leads:t.data,modalOpen:!1},function(){e.setState({loadingLeads:!1})})})})}},{key:"updateAdmin",value:function(){var e=this;if(void 0!==this.state.user_details.roles[1]){var t=sessionStorage.getItem("accessToken");this.setState({loadingAdminData:!0},function(){le.get("/admin",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){return e.setState({adminData:t.data,modalOpen:!1},function(){e.setState({loadingAdminData:!1})})})})}else this.setState({loadingAdminData:!1})}},{key:"handleLogin",value:function(){var e=this,t=sessionStorage.getItem("accessToken");le.get("/users/details",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){void 0===t.data.user?e.setState({loggedIn:!1,user_details:e.anonUserDetails}):e.setState({loggedIn:!0,user_details:t.data.user},function(){e.updateAll()})}).catch(function(t){e.setState({loggedIn:!1,user_details:e.anonUserDetails}),console.error(t)})}},{key:"handleLogout",value:function(){this.setState({loggedIn:!1,user_details:this.anonUserDetails},function(){sessionStorage.removeItem("accessToken")})}},{key:"modalClose",value:function(){this.setState({modalOpen:!1})}},{key:"modalOpen",value:function(){this.setState({modalOpen:!0})}},{key:"render",value:function(){var e=this;if(!this.state.loggedIn)return i.a.createElement("div",null,i.a.createElement(qt,{onLogin:this.handleLogin.bind(this)}));if(this.state.loadingLeads||this.state.loadingLeaderBoards||this.state.loadingCompany||this.state.loadingUserData||this.state.loadingUserEvents||this.state.loadingAdminData)return i.a.createElement("div",{className:"App"},i.a.createElement(Kt,{handleLogout:this.handleLogout.bind(this)}),i.a.createElement(Ue,null));var t=this.props.fullScreen;return i.a.createElement("div",{className:"App"},i.a.createElement(Kt,{roles:this.state.user_details.roles,handleLogout:this.handleLogout.bind(this)}),i.a.createElement(v.a,null,i.a.createElement(f.a,{path:"/",render:function(){return i.a.createElement(Ae,{user:e.state.user_details,userData:e.state.userData,companyData:e.state.companyData,companyDates:[e.state.companyStartDate,e.state.companyEndDate],updateCompany:e.updateCompanyData.bind(e),user_id:e.state.user_details.userId})},exact:!0}),i.a.createElement(f.a,{path:"/leaderboards",render:function(){return i.a.createElement(He,{leaderDates:[e.state.leaderStartDate,e.state.leaderEndDate],updateDate:e.updateLeaderBoardsByDate.bind(e),data:e.state.leaderBoards})}}),i.a.createElement(f.a,{path:"/events",render:function(){return i.a.createElement(Lt,{data:e.state.userEvents})}}),void 0!==this.state.user_details.roles[1]?i.a.createElement(f.a,{path:"/admin",render:function(){return i.a.createElement(Da,{leads:e.state.leads,update:e.updateAll.bind(e),user_id:e.state.user_details.userId,data:e.state.adminData})}}):null,i.a.createElement(f.a,{component:We})),i.a.createElement("div",{className:"add-wrapper"},i.a.createElement(y.a,{className:"add-icon",onClick:this.modalOpen.bind(this),size:"large",color:"primary"},i.a.createElement(b.a,null))),i.a.createElement(pe.a,{fullWidth:!0,fullScreen:t,open:this.state.modalOpen,maxWidth:"md",onClose:this.modalClose.bind(this),onEscapeKeyDown:this.modalClose.bind(this)},i.a.createElement(fe.a,null,i.a.createElement(me,{updateUserData:this.updateUserData.bind(this),updateLeaderBoards:this.updateLeaderBoards.bind(this),updateUserEvents:this.updateUserEvents.bind(this),updateLeads:this.updateLeads.bind(this),updateCompanyGraph:this.updateCompanyData.bind(this),updateAdminData:this.updateAdmin.bind(this),userId:this.state.user_details.userId,closeModal:this.modalClose.bind(this),leads:this.state.leads}))))}}]),t}(n.Component),Ia=ye()({breakpoint:"sm"})(Ta);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var La=a(875);a(872);var xa=i.a.createElement(o.a,null,i.a.createElement(La.a,null,i.a.createElement(Ia,null)));s.a.render(xa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[402,2,1]]]);
//# sourceMappingURL=main.b641a2a3.chunk.js.map