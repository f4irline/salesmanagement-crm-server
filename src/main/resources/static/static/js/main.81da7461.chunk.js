(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t),a.d(t,"getDate",function(){return n}),a.d(t,"daysBetween",function(){return i});var n=function(e,t){var a;return a=null!=t?new Date(t):new Date,"monthFirst"===e&&a.setDate(1),"monthLast"===e&&(a.setDate(1),a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1)),a.toISOString().slice(0,10)},i=function(e,t){var a=new Date(e).getTime(),n=new Date(t).getTime()-a;return Math.round(n/864e5)}},397:function(e,t,a){e.exports=a(870)},404:function(e,t,a){},406:function(e,t,a){},538:function(e,t,a){},540:function(e,t,a){},645:function(e,t,a){},817:function(e,t,a){},831:function(e,t,a){},833:function(e,t,a){},835:function(e,t,a){},838:function(e,t,a){},840:function(e,t,a){},842:function(e,t,a){},844:function(e,t,a){},846:function(e,t,a){},848:function(e,t,a){},850:function(e,t,a){},852:function(e,t,a){},854:function(e,t,a){},856:function(e,t,a){},858:function(e,t,a){},860:function(e,t,a){},862:function(e,t,a){},864:function(e,t,a){},866:function(e,t,a){},868:function(e,t,a){},870:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(33),s=a.n(r),l=a(351),o=a.n(l),c=(a(404),a(20)),d=a(21),u=a(23),m=a(22),h=a(24),p=a(28),v=a(872),f=a(366),g=a(873),E=a(154),y=a.n(E),b=a(377),k=a.n(b),C=a(13),S=a.n(C),D=(a(406),a(34)),N=a.n(D),w=a(145),j=a.n(w),O=a(75),T=a.n(O),L=a(32),I=a(11),x=a.n(I),P=a(29),A=a.n(P),R=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",contactPerson:"",contactRole:"",phoneNumber:"",email:"",website:"",industry:"",notes:"",eventType:4},e.handleChange=function(t){e.setState(Object(L.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"content-all"},i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Liidi"),i.a.createElement("div",{className:"content-fields"},i.a.createElement(x.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(x.a,{name:"companyName",label:"Yrityksen nimi",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0}),i.a.createElement(x.a,{name:"industry",label:"Yrityksen toimiala",onChange:this.handleChange,className:"content-item",variant:"outlined"}),i.a.createElement(x.a,{name:"website",label:"Yrityksen kotisivu",onChange:this.handleChange,className:"content-item",variant:"outlined"})),i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Yhteyshenkil\xf6:"),i.a.createElement("div",{className:"content-fields"},i.a.createElement(x.a,{name:"contactPerson",label:"Nimi",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0}),i.a.createElement(x.a,{name:"contactRole",label:"Rooli",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0}),i.a.createElement(x.a,{name:"email",label:"S\xe4hk\xf6posti",onChange:this.handleChange,className:"content-item",variant:"outlined"}),i.a.createElement(x.a,{name:"phoneNumber",label:"Puhelinnumero",onChange:this.handleChange,className:"content-item",variant:"outlined"})),i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(x.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.props.handleSend(this.state),size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),W=a(63),B=a.n(W),U=a(38),M=a.n(U),H=a(43),z=a.n(H),_=a(55),V=a.n(_),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={date:(new Date).toISOString().split("T")[0],companyName:"",contactPerson:"",phoneNumber:"",email:"",notes:"",eventType:0},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"content-all"},i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Yhteydenotto"),i.a.createElement("div",{className:"content-fields"},i.a.createElement(x.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(V.a,{className:"content-item"},i.a.createElement(M.a,{name:"companyName",displayEmpty:!0,value:this.state.companyName,onChange:this.handleChange,input:i.a.createElement(z.a,{name:"company",labelWidth:0}),required:!0},this.props.leadNames)),i.a.createElement(x.a,{name:"contactPerson",label:"Yhteyshenkil\xf6",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0}),i.a.createElement(x.a,{name:"phoneNumber",label:"Puhelinnumero",onChange:this.handleChange,className:"content-item",variant:"outlined"}),i.a.createElement(x.a,{name:"email",label:"S\xe4hk\xf6posti",onChange:this.handleChange,className:"content-item",variant:"outlined"})),i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(x.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(A.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),q=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",place:"",notes:"",eventType:1},e.handleChange=function(t){e.setState(Object(L.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"content-all"},i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Tapaaminen"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(x.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(M.a,{name:"companyName",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(z.a,{name:"company",labelWidth:0}),required:!0},this.props.leadNames),i.a.createElement(x.a,{name:"place",label:"Paikka",onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0})),i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(x.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(A.a,{variant:"contained",onClick:this.props.handleSend(this.state),size:"large",className:"button-save",color:"primary"},"Tallenna"))}}]),t}(n.Component),Y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",sum:0,notes:"",eventType:3},e.handleChange=function(t){e.setState(Object(L.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"content-all"},i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Myynti"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(x.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(M.a,{name:"companyName",label:"Yritys",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(z.a,{name:"company",labelWidth:0}),required:!0},this.props.leadNames),i.a.createElement(x.a,{name:"sum",label:"Summa",onChange:this.handleChange,className:"content-item",variant:"outlined",type:"number",required:!0})),i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(x.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(A.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={date:(new Date).toISOString().split("T")[0],companyName:"",sum:0,notes:"",eventType:2},e.handleChange=function(t){e.setState(Object(L.a)({},t.target.name,t.target.value))},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"content-all"},i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Tarjous"),i.a.createElement("div",{className:"secondary-content-fields"},i.a.createElement(x.a,{name:"date",label:"P\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",InputLabelProps:{shrink:!0},onChange:this.handleChange,className:"content-item",variant:"outlined",required:!0,value:this.state.date}),i.a.createElement(M.a,{name:"companyName",value:this.state.companyName,onChange:this.handleChange,className:"content-item",input:i.a.createElement(z.a,{name:"company",labelWidth:0}),required:!0},this.props.leadNames),i.a.createElement(x.a,{name:"sum",label:"Summa",onChange:this.handleChange,className:"content-item",variant:"outlined",type:"number",required:!0})),i.a.createElement(S.a,{variant:"h5",className:"event-header"},"Lis\xe4tiedot:"),i.a.createElement("div",{className:"info-container"},i.a.createElement(x.a,{name:"notes",label:"Lis\xe4tiedot",onChange:this.handleChange,className:"content-item",variant:"outlined",multiline:!0,fullWidth:!0})),i.a.createElement(A.a,{variant:"contained",onClick:this.props.handleSend(this.state),color:"primary",size:"large",className:"button-save"},"Tallenna"))}}]),t}(n.Component),G=a(62),J=a.n(G),X=a(353),$=a.n(X),Q=document.cookie.match(new RegExp("XSRF-TOKEN=([^;]+)"))[1],Z=$.a.create({withCredentials:!0,baseURL:"https://vc-system-server.herokuapp.com/api",headers:{"X-XSRF-TOKEN":Q,"Access-Control-Allow-Methods":"PATCH, DELETE, POST, GET, OPTIONS, PUT"}}),ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={selectedValue:"",leads:[],leadNames:[],labelWidth:0},a.updateData=function(){a.props.updateUserData(),a.props.updateLeaderBoards(),a.props.updateCompanyGraph(),a.props.updateUserEvents()},a.handleSend=function(e){return function(t){var n=localStorage.getItem("accessToken"),i={credentials:"include",headers:{Authorization:"Bearer ".concat(n)}};if(4===e.eventType)Z.post("/leads/add",e,i).then(function(e){return console.log(e)}).then(function(){a.props.updateLeads(),a.props.updateUserEvents()});else{var r=a.findLeadId(e);Z.post("events/add/".concat(a.props.userId,"/").concat(r),e,i).then(function(e){return console.log(e)}).then(a.updateData.bind(Object(p.a)(Object(p.a)(a))))}}},a.handleChange=function(e){a.setState({selectedValue:e.target.value})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({leads:this.props.leads},function(){var t=e.state.leads.map(function(e){return i.a.createElement(J.a,{key:e.companyName,value:e.companyName},e.companyName)});e.setState({leadNames:t})})}},{key:"findLeadId",value:function(e){var t=!0,a=!1,n=void 0;try{for(var i,r=this.state.leads[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;if(s.companyName===e.companyName)return s.leadId}}catch(l){a=!0,n=l}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}}},{key:"render",value:function(){var e=null;return"lead"===this.state.selectedValue?e=i.a.createElement(R,{handleSend:this.handleSend.bind(this)}):"contact"===this.state.selectedValue?e=i.a.createElement(K,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"meeting"===this.state.selectedValue?e=i.a.createElement(q,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"sales"===this.state.selectedValue?e=i.a.createElement(Y,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames}):"offer"===this.state.selectedValue&&(e=i.a.createElement(F,{handleSend:this.handleSend.bind(this),leadNames:this.state.leadNames})),i.a.createElement("div",{className:"ModalContent",tabIndex:-1},i.a.createElement(N.a,null,i.a.createElement(S.a,{variant:"h4",gutterBottom:!0,className:"controls-header"},"Lis\xe4\xe4:"),i.a.createElement("div",null,i.a.createElement(j.a,{row:!0,name:"radioGroup",value:this.state.value,onChange:this.handleChange.bind(this),className:"controls-wrapper"},i.a.createElement(B.a,{value:"lead",control:i.a.createElement(T.a,null),label:"Liidi"}),i.a.createElement(B.a,{value:"contact",control:i.a.createElement(T.a,null),label:"Yhteydenotto"}),i.a.createElement(B.a,{value:"meeting",control:i.a.createElement(T.a,null),label:"Tapaaminen"}),i.a.createElement(B.a,{value:"offer",control:i.a.createElement(T.a,null),label:"Tarjous"}),i.a.createElement(B.a,{value:"sales",control:i.a.createElement(T.a,null),label:"Myynti"}))),i.a.createElement("div",{className:"content-wrapper"},e)))}}]),t}(n.Component),te=a(70),ae=a.n(te),ne=(a(538),a(8)),ie=a.n(ne),re=a(41),se=a.n(re),le=(a(540),a(42)),oe=a(30),ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={user:a.props.user,userData:a.props.userData},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(ie.a,{item:!0,xs:12,lg:5,className:"UserData",style:{minHeight:"46vh"}},i.a.createElement(S.a,{variant:"h2",classes:{root:e.header}},"Hei, ",this.state.user.userFirst),i.a.createElement(S.a,{variant:"h5",classes:{root:e.login}},"Sis\xe4\xe4nkirjautunut viimeksi: ",new Date(this.state.user.lastLogin).toLocaleString("fi-FI",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})),i.a.createElement(N.a,{elevation:5,classes:{root:e.paper}},i.a.createElement("div",null,i.a.createElement(oe.List,null,i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Hit Rate %:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.hit_rate+" %"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Keskim. myynti:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.avg_sales+" \u20ac"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Kokonaismyynti:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.total_sales+" \u20ac"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Yhteydenotot:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.contacts_amount+" kpl"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Tapaamiset:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.meetings_amount+" kpl"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Tarjoukset:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.offers_amount+" kpl"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Sopimukset:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.userData.sales_amount+" kpl"}))),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(oe.ListItem,{classes:{root:e.listItem}},i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:"Myynnin tavoite:"})),i.a.createElement(ie.a,{item:!0,xs:6},i.a.createElement(oe.ListItemText,{primary:this.state.user.monthlyGoal+" \u20ac"})))))))}}]),t}(n.Component),de=Object(le.withStyles)({itemContainer:{height:"100%"},listItem:{padding:"0.5vh 1vw"},paper:{margin:"1vw",padding:"0.5vw"},header:{margin:"1vh 0.5vw 0 0.5vw",padding:"0 0.5vw",textTransform:"uppercase",fontWeight:800},login:{margin:"0 1vw",padding:"0 1vw"}})(ce),ue=(a(645),function(e,t,a){void 0!==a?(console.log((new Date).toUTCString()," - [".concat(e,"]: [").concat(t,"], msg:")),console.log(a)):console.log((new Date).toUTCString()," - [".concat(e,"]: [").concat(t,"]"))}),me=a(47),he=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={height:0,width:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;this.setState({height:e,width:t}),window.addEventListener("resize",this.checkWindowSize.bind(this))}},{key:"checkWindowSize",value:function(){try{var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;e===this.state.height&&t===this.state.width||this.setState({height:e,width:t})}catch(a){ue("UserGraph","checkWindowSize","Reloading Div")}}},{key:"render",value:function(){var e=this,t=5,a=this.props.goal-this.props.sales,n=[];if(a>0)n.push({name:"Group A",value:this.props.sales}),n.push({name:"Group B",value:a});else{var r=Math.floor(this.props.sales/this.props.goal);a=0,t=0,n.push({name:"Group A",value:this.props.sales}),n.push({name:"Group B",value:r})}var s=["#D72322","#222C35"];return i.a.createElement(ie.a,{item:!0,xs:12,lg:5,className:"UserGraph",style:{minHeight:"46vh"}},i.a.createElement("div",{className:"chart-header"},i.a.createElement(S.a,{variant:"h2",style:{fontWeight:800}},"TAVOITTEESI")),i.a.createElement("div",{className:"chart-wrapper",ref:function(t){return e.chartWrapper=t}},i.a.createElement(me.g,{width:this.state.width,height:this.state.height,onMouseEnter:this.onPieEnter},i.a.createElement(me.f,{data:n,innerRadius:"60%",outerRadius:"80%",paddingAngle:t,dataKey:"value",label:!0},n.map(function(e,t){return i.a.createElement(me.b,{key:"cell-".concat(t),fill:s[t%s.length]})})))))}}]),t}(n.PureComponent),pe=(a(817),a(113)),ve=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={name:a.props.name,user:{},height:0,width:0,startDate:a.props.companyDates[0],endDate:a.props.companyDates[1],data:a.props.companyData,tickIndex:0},a.onChange=a.onChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;this.setState({height:e,width:t}),window.addEventListener("resize",this.checkWindowSize.bind(this))}},{key:"checkWindowSize",value:function(){try{var e=this.chartWrapper.clientHeight,t=this.chartWrapper.clientWidth;e===this.state.height&&t===this.state.width||this.setState({height:e,width:t})}catch(a){ue("CompanyGraph","checkWindowSize","Reloading Div")}}},{key:"onChange",value:function(e){var t=this,a=e.target.value;switch(e.target.id){case"startDate":this.setState({startDate:new Date(a).toISOString().slice(0,10)},function(){t.props.changeDate(t.state.startDate,t.state.endDate)});break;case"endDate":this.setState({endDate:new Date(a).toISOString().slice(0,10)},function(){t.props.changeDate(t.state.startDate,t.state.endDate)})}}},{key:"render",value:function(){var e=this;return i.a.createElement(ie.a,{item:!0,xs:12,lg:11,className:"CompanyGraph",style:{minHeight:"46vh"}},i.a.createElement("div",{className:"company-chart-header"},i.a.createElement(S.a,{variant:"h2",style:{fontWeight:800}},"YRITYKSEN TAVOITE")),i.a.createElement("div",{className:"company-chart-wrapper",ref:function(t){return e.chartWrapper=t}},i.a.createElement(x.a,{className:"date",id:"startDate",label:"Aloitus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",defaultValue:this.state.startDate,style:{margin:0},required:!0,InputLabelProps:{shrink:!0},SelectProps:null,onChange:this.onChange}),i.a.createElement(x.a,{className:"date",id:"endDate",label:"Lopetus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",defaultValue:this.state.endDate,style:{margin:0},required:!0,InputLabelProps:{shrink:!0},onChange:this.onChange}),i.a.createElement(me.e,{width:this.state.width,height:this.state.height,data:this.state.data,margin:{top:0,right:this.state.width/100*10,left:this.state.width/100*10,bottom:this.state.height/100*5}},i.a.createElement(me.a,{strokeDasharray:"3 3"}),i.a.createElement(me.i,{dataKey:"date",height:60,interval:0,tick:i.a.createElement(Ee,{days:Object(pe.daysBetween)(this.state.startDate,this.state.endDate),index:!0})}),i.a.createElement(me.j,null),i.a.createElement(me.h,null),i.a.createElement(me.c,null),i.a.createElement(me.d,{type:"monotone",dataKey:"sum",stroke:"#8884d8",label:i.a.createElement(ge,{days:Object(pe.daysBetween)(this.state.startDate,this.state.endDate),index:!0}),dot:i.a.createElement(fe,{color:"#0000FF",index:!0})}),i.a.createElement(me.d,{connectNulls:!0,type:"monotone",dataKey:"goal",stroke:"red",dot:i.a.createElement(fe,{days:Object(pe.daysBetween)(this.state.startDate,this.state.endDate),color:"#FF0000",index:!0})}))))}}]),t}(n.PureComponent),fe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cx,a=e.cy,n=e.color,r=Math.floor(this.props.days/8);return this.props.index%r===0&&this.props.index+r<=this.props.days||this.props.index===this.props.days?i.a.createElement("circle",{r:"3",stroke:n,strokeWidth:"1",fill:"#fff",width:"543.2",height:"147.1",className:"recharts-dot recharts-line-dot",cx:t,cy:a}):null}}]),t}(n.PureComponent),ge=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.stroke,r=e.value,s=Math.floor(this.props.days/8);return this.props.index%s===0&&this.props.index+s<=this.props.days||this.props.index===this.props.days?i.a.createElement("text",{x:t,y:a,dy:-4,fill:n,fontSize:10,textAnchor:"middle"},r):null}}]),t}(n.PureComponent),Ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload,r=Math.floor(this.props.days/8);return this.props.index%r===0&&this.props.index+r<=this.props.days||this.props.index===this.props.days?i.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},i.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-35)"},n.value)):null}}]),t}(n.PureComponent),ye=ve,be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={user_id:a.props.user_id,user:a.props.user,userData:a.props.userData,company:a.props.companyData},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.name!==this.state.name||(t.user!==this.state.user||(t.userData!==this.state.userData||t.company!==this.state.company))}},{key:"render",value:function(){return i.a.createElement(ie.a,{container:!0,justify:"space-between",direction:"row",className:"Dashboard"},i.a.createElement(ie.a,{container:!0,justify:"space-around",item:!0,className:"user-wrapper"},i.a.createElement(de,{user:this.state.user,userData:this.state.userData}),i.a.createElement(he,{sales:this.state.userData.total_sales,goal:this.state.user.monthlyGoal})),i.a.createElement(se.a,{variant:"middle"}),i.a.createElement(ie.a,{container:!0,justify:"space-around",item:!0,className:"company-wrapper"},i.a.createElement(ye,{companyDates:this.props.companyDates,changeDate:this.props.updateCompany,companyData:this.state.company})))}}]),t}(n.Component),ke=function(){return i.a.createElement("div",{className:"content"},i.a.createElement("p",null,"Error"))},Ce=a(36),Se=a.n(Ce),De=(a(831),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={startDate:a.props.leaderDates[0],endDate:a.props.leaderDates[1],data:[]},a.onChange=a.onChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data})}},{key:"onChange",value:function(e){var t=this,a=e.target.value,n=e.target.id;if(""==!a)switch(n){case"startDate":this.setState({startDate:new Date(a).toISOString().slice(0,10)},function(){t.props.updateDate(t.state.startDate,t.state.endDate)});break;case"endDate":this.setState({endDate:new Date(a).toISOString().slice(0,10)},function(){t.props.updateDate(t.state.startDate,t.state.endDate)})}else switch(n){case"startDate":this.setState({startDate:new Date("Undefined")},function(){t.props.updateDate(t.state.startDate,t.state.endDate)});break;case"endDate":this.setState({endDate:new Date("Undefined")},function(){t.props.updateDate(t.state.startDate,t.state.endDate)})}}},{key:"mapData",value:function(e){if(new Date(this.state.endDate)<new Date(this.state.startDate))return[];return e.map(function(e){var t=[],a="";for(var n in e)switch(n){case"user_first":a+=e[n]+" ";break;case"user_last":a+=e[n],t.push(a);break;default:t.push(e[n])}return t})}},{key:"render",value:function(){if(this.state.loading)return i.a.createElement("div",{className:"Leaderboards"},i.a.createElement("p",null,"Loading..."));var e=this.mapData(this.state.data),t=[{name:"Nimi",options:{filter:!0,sort:!1,filterOptions:e.map(function(e){return e[0]})}},{name:"Hit rate (%)",options:{filter:!1,sort:!0}},{name:"Keskim. myynti (\u20ac)",options:{filter:!1,sort:!0}},{name:"Kokonaismyynti (\u20ac)",options:{filter:!1,sort:!0}},{name:"Yhteydenotot (kpl)",options:{filter:!1,sort:!0}},{name:"Tapaamiset (kpl)",options:{filter:!1,sort:!0}},{name:"Tarjoukset (kpl)",options:{filter:!1,sort:!0}},{name:"Sopimukset (kpl)",options:{filter:!1,sort:!0}}];return i.a.createElement("div",{className:"Leaderboards"},i.a.createElement("form",{className:"datePicker"},i.a.createElement(x.a,{className:"date",id:"startDate",label:"Aloitus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",defaultValue:this.state.startDate,InputLabelProps:{shrink:!0},onChange:this.onChange}),i.a.createElement(x.a,{className:"date",id:"endDate",label:"Lopetus p\xe4iv\xe4m\xe4\xe4r\xe4",type:"date",defaultValue:this.state.endDate,InputLabelProps:{shrink:!0},onChange:this.onChange})),i.a.createElement("div",{id:"table"},i.a.createElement(Se.a,{title:"Sijoitukset",data:e,columns:t,options:{filterType:"multiselect",selectableRows:!1,search:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},filter:{all:"Kaikki",title:"SUODATTIMET",reset:"RESETOI"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}}]),t}(n.Component)),Ne=(a(833),a(98)),we=a(3),je=a.n(we),Oe=a(153),Te=a.n(Oe),Le=a(147),Ie=a.n(Le),xe=a(146),Pe=a.n(xe),Ae=a(93),Re=a.n(Ae),We=a(108),Be=a.n(We),Ue=a(35),Me=a.n(Ue),He=a(368),ze=a.n(He),_e=a(369),Ve=a.n(_e),Ke=a(370),qe=a.n(Ke),Ye=a(109),Fe=a.n(Ye),Ge=a(155),Je=a.n(Ge),Xe=a(110),$e=a.n(Xe),Qe=(a(835),a(874)),Ze=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,r=this.state.open,s=this.props.links.map(function(t){return i.a.createElement(Fe.a,{key:t.url,className:"navLink"},i.a.createElement(Je.a,null,t.icon),i.a.createElement(Qe.a,{onClick:e.handleDrawerClose,exact:!0,to:t.url},i.a.createElement($e.a,{disableTypography:!0,primary:t.text})))});return i.a.createElement("div",{className:a.root},i.a.createElement(Ie.a,null),i.a.createElement(Pe.a,{className:je()(a.appBar,Object(L.a)({},a.appBarShift,r))},i.a.createElement(Re.a,{disableGutters:!r},i.a.createElement(Me.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:je()(a.menuButton,r&&a.hide)},i.a.createElement(ze.a,null)),i.a.createElement(S.a,{variant:"h6",color:"inherit",noWrap:!0},this.props.drawerTitle))),i.a.createElement(Te.a,{className:a.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:a.drawerPaper}},i.a.createElement("div",{className:a.drawerHeader},i.a.createElement(Me.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?i.a.createElement(Ve.a,null):i.a.createElement(qe.a,null))),i.a.createElement(se.a,null),i.a.createElement(Be.a,null,s)),i.a.createElement("main",{className:je()(a.content,Object(L.a)({},a.contentShift,r))},i.a.createElement("div",{className:a.drawerHeader}),this.props.children))}}]),t}(i.a.Component),et=Object(le.withStyles)(function(e){return{root:{display:"flex"},appBar:{top:"5vh",backgroundColor:"#3f505f",height:"5vh",justifyContent:"center",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{top:"5vh",width:240,flexShrink:0},drawerPaper:{top:"5vh",width:240},drawerHeader:Object(Ne.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(Ze),tt=(a(838),a(840),function(e){return i.a.createElement("div",{className:"NavItem"},i.a.createElement(Qe.a,{className:"linkWrapper",to:e.url,exact:!0},e.icon,i.a.createElement("p",{className:"item"},e.children)))}),at=a(161),nt=a.n(at),it=a(162),rt=a.n(it),st=a(74),lt=a.n(st),ot=a(72),ct=a.n(ot),dt=a(73),ut=a.n(dt),mt=(a(842),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"eventId"!==a&&"eventType"!==a&&"user"!==a&&"sum"!==a&&"place"!==a&&"lead"!==a&&t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Contacts"},i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(Se.a,{title:"Yhteydenotot",data:t,columns:[{name:"p\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"yritys",options:{filter:!1,sort:!0}},{name:"yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"puhelinnumero",options:{filter:!1,sort:!0}},{name:"s\xe4hk\xf6posti",options:{filter:!1,sort:!0}},{name:"lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),ht=(a(844),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"leadId"!==a&&t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Leads"},i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(Se.a,{title:"Liidit",data:t,columns:[{name:"p\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"yritys",options:{filter:!1,sort:!0}},{name:"toimiala",options:{filter:!1,sort:!0}},{name:"yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"toimenkuva",options:{filter:!1,sort:!0}},{name:"puhelinnumero",options:{filter:!1,sort:!0}},{name:"s\xe4hk\xf6posti",options:{filter:!1,sort:!0}},{name:"nettisivu",options:{filter:!1,sort:!0}},{name:"lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),pt=(a(846),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"date"!==a&&"companyName"!==a&&"place"!==a&&"notes"!==a||t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Meetings"},i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(Se.a,{title:"Tapaamiset",data:t,columns:[{name:"P\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Paikka",options:{filter:!1,sort:!0}},{name:"Lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),vt=(a(848),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"date"!==a&&"companyName"!==a&&"notes"!==a&&"sum"!==a||t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Offers"},i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(Se.a,{title:"Tarjoukset",data:t,columns:[{name:"P\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Tarjouksen summa (\u20ac)",options:{filter:!1,sort:!0}},{name:"Lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),ft=(a(850),function(e){var t=function(e){return e.map(function(e){var t=[];for(var a in e)"date"!==a&&"companyName"!==a&&"notes"!==a&&"sum"!==a||t.push(e[a]);return t})}(e.data);return i.a.createElement("div",{className:"Sales"},i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(Se.a,{title:"Kaupat",data:t,columns:[{name:"P\xe4iv\xe4m\xe4\xe4r\xe4",options:{filter:!1,sort:!0}},{name:"Yritys",options:{filter:!1,sort:!0}},{name:"Tarjouksen summa (\u20ac)",options:{filter:!1,sort:!0}},{name:"Lis\xe4tiedot",options:{filter:!1,sort:!0}}],options:{filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}}})))}),gt=function(e){var t=[{url:"/events/leads",text:"Liidit",icon:i.a.createElement(ct.a,null)},{url:"/events/contacts",text:"Yhteydenotot",icon:i.a.createElement(ut.a,null)},{url:"/events/meetings",text:"Tapaamiset",icon:i.a.createElement(lt.a,null)},{url:"/events/offers",text:"Tarjoukset",icon:i.a.createElement(nt.a,null)},{url:"/events/sales",text:"Myynnit",icon:i.a.createElement(rt.a,null)}];return i.a.createElement("div",{className:"Events"},i.a.createElement(et,{drawerTitle:"Tapahtumat",links:t},i.a.createElement(f.a,{path:"/events/contacts",render:function(){return i.a.createElement(mt,{data:e.data[0]})}}),i.a.createElement(f.a,{path:"/events/meetings",render:function(){return i.a.createElement(pt,{data:e.data[1]})}}),i.a.createElement(f.a,{path:"/events/offers",render:function(){return i.a.createElement(vt,{data:e.data[2]})}}),i.a.createElement(f.a,{path:"/events/sales",render:function(){return i.a.createElement(ft,{data:e.data[3]})}}),i.a.createElement(f.a,{path:"/events/leads",render:function(){return i.a.createElement(ht,{data:e.data[4]})}})))},Et=(a(852),a(854),function(e){return i.a.createElement("div",{onClick:e.onClick,className:"ActionItem"},e.icon,i.a.createElement("p",{className:"item"},e.children))}),yt=a(374),bt=a.n(yt),kt=a(375),Ct=a.n(kt),St=a(371),Dt=a.n(St),Nt=a(372),wt=a.n(Nt),jt=a(373),Ot=a.n(jt),Tt=function(e){return i.a.createElement("div",{className:"Navigation"},i.a.createElement("div",{className:"navigation-wrapper"},i.a.createElement(tt,{url:"/",icon:i.a.createElement(Dt.a,null)},"Oma sivu"),i.a.createElement(tt,{url:"/leaderboards",icon:i.a.createElement(wt.a,null)},"Tulostaulukko"),i.a.createElement(tt,{url:"/events/leads",icon:i.a.createElement(Ot.a,null)},"Tapahtumat")),i.a.createElement("div",{className:"action-wrapper"},void 0!==e.roles&&void 0!==e.roles[1]?i.a.createElement(tt,{url:"/admin/users",icon:i.a.createElement(bt.a,null)},"Hallinta"):null,i.a.createElement(Et,{icon:i.a.createElement(Ct.a,null),onClick:e.handleLogout},"Kirjaudu ulos")))},Lt=(a(856),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={userName:"",password:"",error:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleButtonClick",value:function(){var e=this,t={userName:this.state.userName,password:this.state.password};Z.post("/auth/login",t,{credentials:"include"}).then(function(t){localStorage.setItem("accessToken",t.data.accessToken),e.props.onLogin()}).catch(function(t){console.log(t),e.setState({error:!0})})}},{key:"handleInputChange",value:function(e){switch(e.target.name){case"userName":this.setState({userName:e.target.value});break;case"password":this.setState({password:e.target.value})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"Login"},i.a.createElement(N.a,{className:"MuiPaper-root-1",elevation:5},i.a.createElement(S.a,{variant:"h5",gutterBottom:!0},"KIRJAUTUMINEN"),i.a.createElement(se.a,null),i.a.createElement(x.a,{className:"login-item",label:"K\xe4ytt\xe4j\xe4tunnus id",value:this.state.userName,onChange:this.handleInputChange.bind(this),margin:"normal",name:"userName",type:"text"}),i.a.createElement(x.a,{className:"login-item",label:"Salasana",value:this.state.password,onChange:this.handleInputChange.bind(this),name:"password",margin:"normal",type:"password"}),i.a.createElement(A.a,{className:"login-item",size:"medium",disabled:!1,onClick:this.handleButtonClick.bind(this),variant:"contained"},"Submit")))}}]),t}(n.Component)),It=(a(858),a(860),a(862),a(148)),xt=a.n(It),Pt=a(149),At=a.n(Pt),Rt=a(150),Wt=a.n(Rt),Bt=a(151),Ut=a.n(Bt),Mt=a(152),Ht=a.n(Mt),zt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={open:!0},a.handleCancel=function(){a.props.handleClose("cancel")},a.handleDelete=function(){a.props.handleClose("delete")},a.state.title=e.title,a.state.description=e.description,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(xt.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Ht.a,{id:"alert-dialog-title"},this.state.title),i.a.createElement(Wt.a,null,i.a.createElement(Ut.a,{id:"alert-dialog-description"},this.state.description)),i.a.createElement(At.a,null,i.a.createElement(A.a,{onClick:this.handleCancel,color:"primary",name:"cancel"},"Cancel"),i.a.createElement(A.a,{onClick:this.handleDelete,color:"primary",name:"delete",autoFocus:!0},"Delete"))))}}]),t}(i.a.Component),_t=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:{},leads:[],loading:!1,companyName:void 0},a.fetchData=function(){var e=localStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){Z.get("event/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.fetchLeads(),a.setState({data:e.data},function(){a.setState({companyName:a.state.data.lead.companyName})})}).catch(function(e){return console.log(e)})})},a.fetchLeads=function(){var e=localStorage.getItem("accessToken");a.setState({loading:!0},function(){Z.get("/leads",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return a.setState({leads:e.data},function(){a.setState({loading:!1})})})})},a.handleSave=function(){var e=localStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}},n=a.findLeadId();Z.put("/admin/events/edit/".concat(n),a.state.data,t).then(function(e){console.log(e),a.props.update(),a.props.history.push("/admin/events")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){a.setState({data:Object.assign({},a.state.data,Object(L.a)({},e.target.name,e.target.value))})},a.handleLeadChange=function(e){a.setState({companyName:e.target.value})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"findLeadId",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=this.state.leads[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;if(r.companyName===this.state.companyName)return r.leadId}}catch(s){t=!0,a=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}}},{key:"render",value:function(){return this.state.loading||void 0===this.state.companyName?i.a.createElement("p",null,"Loading..."):i.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(ie.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(S.a,{variant:"h4",gutterBottom:!0},"TAPAHTUMAN MUOKKAUS")),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",label:"Tapahtuman ID",value:this.state.data.eventId,disabled:!0})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"date",type:"date",required:!0,onChange:this.handleChange,label:"P\xe4iv\xe4m\xe4\xe4r\xe4",value:this.state.data.date}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,name:"contactPerson",variant:"outlined",onChange:this.handleChange,label:"Yhteyshenkil\xf6",value:this.state.data.contactPerson})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,name:"email",variant:"outlined",required:!0,onChange:this.handleChange,label:"S\xe4hk\xf6posti",value:this.state.data.email}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"phoneNumber",label:"Puhelinnumero",onChange:this.handleChange,value:this.state.data.phoneNumber})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"place",required:!0,label:"Paikka",onChange:this.handleChange,value:this.state.data.place}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"sum",label:"Summa",type:"number",onChange:this.handleChange,value:this.state.data.sum})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(V.a,{className:"content-item",fullWidth:!0},i.a.createElement(M.a,{name:"companyName",displayEmpty:!0,value:this.state.companyName,onChange:this.handleLeadChange,input:i.a.createElement(z.a,{name:"company",labelWidth:0}),required:!0},this.props.leadNames)))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:11},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"notes",onChange:this.handleChange,required:!0,label:"Lis\xe4tiedot",multiline:!0,value:this.state.data.notes}))),i.a.createElement(A.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna"))}}]),t}(n.Component),Vt=Object(g.a)(_t),Kt=a(79),qt=a.n(Kt),Yt=a(95),Ft=a.n(Yt),Gt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,eventId:void 0},a.onClickEditHandler=function(e){a.props.history.push("/admin/events/edit/"+e.eventId)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[];for(var n in e)if("eventType"===n)switch(e[n]){case 0:a.push("Yhteydenotto");break;case 1:a.push("Tapaaminen");break;case 2:a.push("Tarjous");break;case 3:a.push("Myynti");break;default:a.push(void 0)}else a.push(e[n]);return a.push(i.a.createElement(Me.a,{onClick:function(){t.onClickDeleteHandler(e.eventId)}},i.a.createElement(qt.a,null))),a.push(i.a.createElement(Me.a,{onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(Ft.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,eventId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=localStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&Z.delete("/events/"+this.state.eventId,n).then(function(e){t.props.update()}).catch(function(e){return console.log(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Luotu",options:{filter:!1,sort:!0}},{name:"Yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"Puhelin",options:{filter:!1,sort:!0}},{name:"Email",options:{filter:!1,sort:!0}},{name:"Tyyppi",options:{filter:!1,sort:!0}},{name:"Summa",options:{filter:!1,sort:!0}},{name:"Paikka",options:{filter:!1,sort:!0}},{name:"Huom",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"EventData"},this.state.showDialog?i.a.createElement(zt,{title:"Poista tapahtuma",description:"Haluatko varmasti poistaa tapahtuman?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(f.a,{path:"/admin/events",exact:!0,render:function(){return i.a.createElement(Se.a,{title:"Tapahtumat",data:a,columns:n,options:r})}}),i.a.createElement(f.a,{path:"/admin/events/edit/:id",render:function(){return i.a.createElement(Vt,{update:e.props.update,leadNames:e.props.leadNames})}})))}}]),t}(n.Component),Jt=Object(g.a)(Gt),Xt=(a(864),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:a.props.data,loading:!1},a.fetchData=function(){var e=localStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){Z.get("leads/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.setState({data:e.data,loading:!1})}).catch(function(e){return console.log(e)})})},a.handleSave=function(){var e=localStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}};Z.put("/admin/leads/edit",a.state.data,t).then(function(e){console.log(e),a.props.update(),a.props.history.push("/admin/leads")}).catch(function(e){return console.log(e)})},a.handleChange=function(e){a.setState({data:Object.assign({},a.state.data,Object(L.a)({},e.target.name,e.target.value))})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.state.data.leadId||this.fetchData()}},{key:"render",value:function(){return this.state.loading?i.a.createElement("p",null,"Loading..."):i.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(ie.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(S.a,{variant:"h4",gutterBottom:!0},"LIIDIN MUOKKAUS")),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",disabled:!0,label:"Liidi ID",value:this.state.data.leadId})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{label:"Luotu",fullWidth:!0,name:"date",variant:"outlined",type:"date",value:this.state.data.date,onChange:this.handleChange}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"companyName",label:"Nimi",value:this.state.data.companyName,onChange:this.handleChange})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"industry",label:"Ala",value:this.state.data.industry,onChange:this.handleChange}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"contactPerson",label:"Yhteyshenkil\xf6",value:this.state.data.contactPerson,onChange:this.handleChange})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"contactRole",label:"Rooli",value:this.state.data.contactRole,onChange:this.handleChange}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"phoneNumber",label:"Puhelin",value:this.state.data.phoneNumber,onChange:this.handleChange})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"email",label:"Email",value:this.state.data.email,onChange:this.handleChange}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"website",label:"WWW",value:this.state.data.website,onChange:this.handleChange})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:12,md:5},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"notes",label:"Huom",value:this.state.data.notes,onChange:this.handleChange}))),i.a.createElement(A.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna"))}}]),t}(n.Component)),$t=Object(g.a)(Xt),Qt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,dataToEdit:{},leadId:void 0},a.onClickEditHandler=function(e){a.setState({dataToEdit:e},function(){console.log(e),a.props.history.push("/admin/leads/edit/"+e.leadId)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[];for(var n in e)a.push(e[n]);return a.push(i.a.createElement(Me.a,{"aria-label":"Delete",onClick:function(){t.onClickDeleteHandler(e.leadId)}},i.a.createElement(qt.a,null))),a.push(i.a.createElement(Me.a,{"aria-label":"Create",onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(Ft.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,leadId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=localStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&Z.delete("/leads/"+this.state.leadId,n).then(function(e){t.props.update()}).catch(function(e){return console.log(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Luotu",options:{filter:!1,sort:!0}},{name:"Nimi",options:{filter:!1,sort:!0}},{name:"Ala",options:{filter:!1,sort:!0}},{name:"Yhteyshenkil\xf6",options:{filter:!1,sort:!0}},{name:"Rooli",options:{filter:!1,sort:!0}},{name:"Puhelin",options:{filter:!1,sort:!0}},{name:"Email",options:{filter:!1,sort:!0}},{name:"WWW",options:{filter:!1,sort:!0}},{name:"Huom",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"LeadData"},this.state.showDialog?i.a.createElement(zt,{title:"Poista tapahtuma",description:"Haluatko varmasti poistaa tapahtuman?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(f.a,{path:"/admin/leads",exact:!0,render:function(){return i.a.createElement(Se.a,{title:"Liidit",data:a,columns:n,options:r})}}),i.a.createElement(f.a,{path:"/admin/leads/edit/:id",render:function(){return i.a.createElement($t,{update:e.props.update,data:e.state.dataToEdit})}})))}}]),t}(n.Component),Zt=Object(g.a)(Qt),ea=(a(866),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:{},loading:!1,roleName:void 0,userToSave:{}},a.fetchData=function(){var e=localStorage.getItem("accessToken"),t=a.props.match.params.id;a.setState({loading:!0},function(){Z.get("users/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){a.setState({data:e.data,loading:!1},function(){void 0!==a.state.data.roles[1]?a.setState({roleName:"ROLE_ADMIN"}):a.setState({roleName:"ROLE_USER"})})}).catch(function(e){return console.log(e)})})},a.handleChange=function(e){a.setState({data:Object.assign({},a.state.data,Object(L.a)({},e.target.name,e.target.value))})},a.handleRoleChange=function(e){a.setState({roleName:e.target.value})},a.handleSave=function(){var e=localStorage.getItem("accessToken"),t={credentials:"include",headers:{Authorization:"Bearer ".concat(e)}},n=Object(Ne.a)({},a.state.data),i=Object(Ne.a)({},n.roles);i="ROLE_ADMIN"===a.state.roleName?[{id:2,definition:"ROLE_USER"},{id:1,definition:"ROLE_ADMIN"}]:[{id:2,definition:"ROLE_USER"}],n=Object(Ne.a)({},n,{roles:i}),Z.put("/admin/users/edit",n,t).then(function(e){a.props.update(),a.props.history.push("/admin/users")}).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return this.state.loading||void 0===this.state.roleName?i.a.createElement("p",null,"Loading..."):i.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(ie.a,{item:!0,xs:11,style:{textAlign:"center",marginTop:"5vh"}},i.a.createElement(S.a,{variant:"h4",gutterBottom:!0},"K\xc4YTT\xc4J\xc4N MUOKKAUS")),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",label:"K\xe4ytt\xe4j\xe4n ID",defaultValue:this.state.data.userId,disabled:!0})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"userFirst",required:!0,label:"Etunimi",defaultValue:this.state.data.userFirst,onChange:this.handleChange}))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"userLast",required:!0,label:"Sukunimi",defaultValue:this.state.data.userLast,onChange:this.handleChange})),i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(V.a,{className:"content-item",fullWidth:!0},i.a.createElement(M.a,{name:"roleName",value:this.state.roleName,onChange:this.handleRoleChange,input:i.a.createElement(z.a,{name:"role",labelWidth:0}),required:!0},this.props.roleNames)))),i.a.createElement(ie.a,{container:!0,justify:"space-around"},i.a.createElement(ie.a,{style:{marginTop:"3vh"},item:!0,xs:11},i.a.createElement(x.a,{fullWidth:!0,variant:"outlined",name:"monthlyGoal",required:!0,label:"Kuukausitavoite",defaultValue:this.state.data.monthlyGoal,onChange:this.handleChange}))),i.a.createElement(A.a,{onClick:this.handleSave.bind(this),size:"large",style:{color:"#FFF",marginTop:"5vh",width:"15vw"},variant:"contained",color:"primary"},"Tallenna"))}}]),t}(n.Component)),ta=Object(g.a)(ea),aa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={showDialog:!1,dataToEdit:{}},a.onClickEditHandler=function(e){a.setState({dataToEdit:e},function(){a.props.history.push("/admin/users/edit/"+e.userId)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"mapData",value:function(e){var t=this;return e.map(function(e){var a=[],n="";for(var r in e)"userFirst"===r?n+=e[r]+" ":"userLast"===r?(n+=e[r],a.push(n)):a.push(e[r]);return e.userId!=t.props.user_id?a.push(i.a.createElement(Me.a,{"aria-label":"Delete",onClick:function(){t.onClickDeleteHandler(e.userId)}},i.a.createElement(qt.a,null))):a.push(""),a.push(i.a.createElement(Me.a,{"aria-label":"Create",onClick:function(){return t.onClickEditHandler(e)}},i.a.createElement(Ft.a,null))),a})}},{key:"onClickDeleteHandler",value:function(e){this.setState({showDialog:!0,userId:e})}},{key:"onClickCloseHandler",value:function(e){var t=this,a=localStorage.getItem("accessToken"),n={credentials:"include",headers:{Authorization:"Bearer ".concat(a)}};"delete"===e&&Z.delete("/users/"+this.state.userId,n).then(function(e){t.props.update()}).catch(function(e){return console.log(e)}),this.setState({showDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.mapData(t),n=[{name:"ID",options:{filter:!1,sort:!0}},{name:"Luotu",options:{filter:!1,sort:!0}},{name:"Kirjautunut",options:{filter:!1,sort:!0}},{name:"Nimi",options:{filter:!1,sort:!0}},{name:"Rooli",options:{filter:!1,sort:!0}},{name:"Tavoite",options:{filter:!1,sort:!0}},{name:"Poista"},{name:"Muokkaa"}],r={filterType:"multiselect",selectableRows:!1,search:!1,filter:!1,textLabels:{body:{noMatch:"Ei tuloksia",toolTip:"J\xe4rjest\xe4"},pagination:{next:"Seuraava sivu",previous:"Edellinen sivu",rowsPerPage:"Rivej\xe4 / sivu:",displayRows:"-"},toolbar:{search:"Etsi",downloadCsv:"Lataa CSV",print:"Tulosta",viewColumns:"Sarakkeet",filterTable:"Suodata"},viewColumns:{title:"N\xe4ytetyt Sarakkeet",titleAria:"N\xe4yt\xe4/Piilota Taulukon Sarakkeet"},selectedRows:{text:"rivej\xe4 valittu",delete:"Poista",deleteAria:"Poista Valitut Rivit"}}};return i.a.createElement("div",{className:"UserData"},this.state.showDialog?i.a.createElement(zt,{title:"Poista tapahtuma",description:"Haluatko varmasti poistaa tapahtuman?",handleClose:this.onClickCloseHandler.bind(this)}):null,i.a.createElement("div",{id:"table",style:{position:"relative",top:"3vh"}},i.a.createElement(f.a,{path:"/admin/users",exact:!0,render:function(){return i.a.createElement(Se.a,{title:"K\xe4ytt\xe4j\xe4t",data:a,columns:n,options:r})}}),i.a.createElement(f.a,{path:"/admin/users/edit/:id",render:function(){return i.a.createElement(ta,{roleNames:e.props.roleNames,update:e.props.update})}})))}}]),t}(n.Component),na=Object(g.a)(aa),ia=function(e){var t=[{url:"/admin/users",text:"K\xe4ytt\xe4j\xe4t",icon:i.a.createElement(ct.a,null)},{url:"/admin/leads",text:"Liidit",icon:i.a.createElement(ut.a,null)},{url:"/admin/events",text:"Tapahtumat",icon:i.a.createElement(lt.a,null)}],a=e.data[1].map(function(e){return i.a.createElement(J.a,{key:e.companyName,value:e.companyName},e.companyName)}),n=["ROLE_ADMIN","ROLE_USER"].map(function(e){return i.a.createElement(J.a,{key:e,value:e},e)});return i.a.createElement("div",{className:"Events"},i.a.createElement(et,{drawerTitle:"Hallinta",links:t},i.a.createElement(v.a,null,i.a.createElement(f.a,{path:"/admin/users",render:function(){return i.a.createElement(na,{update:e.update,data:e.data[0],roleNames:n,user_id:e.user_id})}}),i.a.createElement(f.a,{path:"/admin/leads",render:function(){return i.a.createElement(Zt,{update:e.update,data:e.data[1]})}}),i.a.createElement(f.a,{path:"/admin/events",render:function(){return i.a.createElement(Jt,{update:e.update,data:e.data[2],leadNames:a})}}))))},ra=(a(868),a(113).getDate),sa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).anonUserDetails={roles:["ANONYMOUS"]},a.state={loggedIn:!1,modalOpen:!1,loadingLeads:!0,loadingAdminData:!0,loadingLeaderBoards:!0,loadingUserEvents:!0,loadingUserData:!0,loadingCompany:!0,leads:[],leaderBoards:[],userEvents:[],userData:{},user_details:a.anonUserDetails,companyData:[],companyStartDate:ra("monthFirst"),companyEndDate:ra("monthLast"),leaderStartDate:new Date("Undefined"),leaderEndDate:new Date("Undefined")},a.validateDate=a.validateDate.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("accessToken")&&this.handleLogin()}},{key:"updateAll",value:function(){this.updateCompanyData(this.state.companyStartDate,this.state.companyEndDate),this.updateLeads(),this.updateLeaderBoards(),this.updateUserEvents(),this.updateUserData(),this.updateAdmin()}},{key:"updateCompanyData",value:function(e,t){var a=this,n=void 0,i=void 0;void 0===e&&void 0===t?(n=this.state.companyStartDate,i=this.state.companyEndDate):(n=e,i=t);var r=localStorage.getItem("accessToken"),s="/companyChart/get/".concat(n,"/").concat(i);this.setState({loadingCompany:!0,companyStartDate:n,companyEndDate:i},function(){Z.get(s,{headers:{Authorization:"Bearer ".concat(r)}}).then(function(e){return a.setState({companyData:e.data},function(){a.setState({loadingCompany:!1})})})})}},{key:"updateUserEvents",value:function(){var e=this,t=localStorage.getItem("accessToken"),a="/userEvents/".concat(this.state.user_details.userId);this.setState({loadingUserEvents:!0},function(){Z.get(a,{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({userEvents:t.data,modalOpen:!1},function(){e.setState({loadingUserEvents:!1})})}).catch(function(e){return console.log(e)})})}},{key:"updateUserData",value:function(){var e=this,t=localStorage.getItem("accessToken"),a="/userData/".concat(this.state.user_details.userId);this.setState({loadingUserData:!0},function(){Z.get(a,{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({userData:t.data,modalOpen:!1},function(){e.setState({loadingUserData:!1})})}).catch(function(e){return console.log(e)})})}},{key:"updateLeaderBoards",value:function(){var e=this,t=localStorage.getItem("accessToken");this.setState({loadingLeaderBoards:!0},function(){Z.get("/userData/all",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){return e.setState({leaderBoards:t.data,modalOpen:!1},function(){e.setState({loadingLeaderBoards:!1})})})})}},{key:"updateLeaderBoardsByDate",value:function(e,t){var a=this;this.setState({leaderStartDate:e,leaderEndDate:t},function(){a.validateDate(e,t)})}},{key:"validateDate",value:function(e,t){var a=this,n=localStorage.getItem("accessToken");this.setState({loadingLeaderBoards:!0},function(){"Invalid Date"!==e.toString()&&"Invalid Date"!==t.toString()?Z.get("/userData/all/".concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return a.setState({leaderBoards:e.data,modalOpen:!1},function(){a.setState({loadingLeaderBoards:!1})})}):"Invalid Date"!==e.toString()?Z.get("/userData/all/".concat(e,"/2100-01-01"),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return a.setState({leaderBoards:e.data,modalOpen:!1},function(){a.setState({loadingLeaderBoards:!1,leaderEndDate:new Date("Undefined")})})}):"Invalid Date"!==t.toString()?Z.get("/userData/all/1970-01-01/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return a.setState({leaderBoards:e.data,modalOpen:!1},function(){a.setState({loadingLeaderBoards:!1,leaderStartDate:new Date("Undefined")})})}):a.setState({leaderStartDate:new Date("Undefined"),leaderEndDate:new Date("Undefined")},function(){a.updateLeaderBoards()})})}},{key:"updateLeads",value:function(){var e=this,t=localStorage.getItem("accessToken");this.setState({loadingLeads:!0},function(){Z.get("/leads",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){return e.setState({leads:t.data,modalOpen:!1},function(){e.setState({loadingLeads:!1})})})})}},{key:"updateAdmin",value:function(){var e=this;if(void 0!==this.state.user_details.roles[1]){var t=localStorage.getItem("accessToken");this.setState({loadingAdminData:!0},function(){Z.get("/admin",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){return e.setState({adminData:t.data,modalOpen:!1},function(){e.setState({loadingAdminData:!1})})})})}else this.setState({loadingAdminData:!1})}},{key:"handleLogin",value:function(){var e=this,t=localStorage.getItem("accessToken");Z.get("/users/details",{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){void 0===t.data.user?e.setState({loggedIn:!1,user_details:e.anonUserDetails}):e.setState({loggedIn:!0,user_details:t.data.user},function(){e.updateAll()})}).catch(function(t){e.setState({loggedIn:!1,user_details:e.anonUserDetails}),console.log(t)})}},{key:"handleLogout",value:function(){this.setState({loggedIn:!1,user_details:this.anonUserDetails},function(){localStorage.removeItem("accessToken")})}},{key:"modalClose",value:function(){this.setState({modalOpen:!1})}},{key:"modalOpen",value:function(){this.setState({modalOpen:!0})}},{key:"render",value:function(){var e=this;return this.state.loggedIn?this.state.loadingLeads||this.state.loadingLeaderBoards||this.state.loadingCompany||this.state.loadingUserData||this.state.loadingUserEvents||this.state.loadingAdminData?i.a.createElement("div",{className:"App"},i.a.createElement(Tt,{handleLogout:this.handleLogout.bind(this)})):i.a.createElement("div",{className:"App"},i.a.createElement(Tt,{roles:this.state.user_details.roles,handleLogout:this.handleLogout.bind(this)}),i.a.createElement(v.a,null,i.a.createElement(f.a,{path:"/",render:function(){return i.a.createElement(be,{user:e.state.user_details,userData:e.state.userData,companyData:e.state.companyData,companyDates:[e.state.companyStartDate,e.state.companyEndDate],updateCompany:e.updateCompanyData.bind(e),user_id:e.state.user_details.userId})},exact:!0}),i.a.createElement(f.a,{path:"/leaderboards",render:function(){return i.a.createElement(De,{leaderDates:[e.state.leaderStartDate,e.state.leaderEndDate],updateDate:e.updateLeaderBoardsByDate.bind(e),data:e.state.leaderBoards})}}),i.a.createElement(f.a,{path:"/events",render:function(){return i.a.createElement(gt,{data:e.state.userEvents})}}),void 0!==this.state.user_details.roles[1]?i.a.createElement(f.a,{path:"/admin",render:function(){return i.a.createElement(ia,{leads:e.state.leads,update:e.updateAll.bind(e),user_id:e.state.user_details.userId,data:e.state.adminData})}}):null,i.a.createElement(f.a,{component:ke})),i.a.createElement("div",{className:"add-wrapper"},i.a.createElement(y.a,{className:"add-icon",onClick:this.modalOpen.bind(this),size:"large",color:"primary"},i.a.createElement(k.a,null))),i.a.createElement(ae.a,{open:this.state.modalOpen,onClose:this.modalClose.bind(this),className:"modal-wrapper",onEscapeKeyDown:this.modalClose.bind(this)},i.a.createElement(ee,{updateUserData:this.updateUserData.bind(this),updateLeaderBoards:this.updateLeaderBoards.bind(this),updateUserEvents:this.updateUserEvents.bind(this),updateLeads:this.updateLeads.bind(this),updateCompanyGraph:this.updateCompanyData.bind(this),userId:this.state.user_details.userId,closeModal:this.modalClose.bind(this),leads:this.state.leads}))):i.a.createElement("div",null,i.a.createElement(Lt,{onLogin:this.handleLogin.bind(this)}))}}]),t}(n.Component),la=Object(g.a)(sa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oa=a(871),ca=i.a.createElement(o.a,null,i.a.createElement(oa.a,null,i.a.createElement(la,null)));s.a.render(ca,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[397,2,1]]]);
//# sourceMappingURL=main.81da7461.chunk.js.map